(()=>{"use strict";$("body"),$("section"),$(".search-wrap select"),$("img"),$(".side-toggle-btn"),$("aside.main-menu"),$("#mainMenu");const t=$("#sessionUserid"),e=($("#sessionUserIp"),$("#sessionAuthCode"),$("#sessionDeptName"),$("#sessionBizIdx"),$("#env"),$("#loader"),$("#btnScrollTop"),$("#btnXlsxImport"),$("#btnXlsxExport"),$(".date-btn .btn"),$(".datepicker"),$(".date-from"),$(".date-to"),$("#selDateType"),$("#selSearchType"),$("input[name=chk-type]"),$("input[name=chk-status]"),$("input[name=radio-type]"),$("input[name=radio-status]"),$("#keyword"),$("#btnSearch"),$("#btnReset"),$("#btnSubmit")),a=($("#btnCancel"),$("#btnClose"),$("#btnCreate"),$("#btnUpdate"),$("#btnSubmitUpdate"),$("#btnDelete"),$("#btnAdd"),$("#btnList")),n=$("#btnBack"),i=($("#checkTypeWrap"),$("#selPageLength"),$("#selSort"),$("#dataTable"),$("#dataTable_paginate")),o=($("#totalCount"),$("#thumbnail"),$("#amount")),r=($("#nickname"),$("#memo")),s=($("#title"),$("#content"),$("#contentImage"),$("#reserveDate"),$("input[name=radio-os-type]"),$("#osType"),$("#version"),$("#isExposure"),$("input[name=radio-exposure]"),$("#exposureDate"),$("#link"),$("#deviceInfo"),$(".length-input")),l=($(".only-num"),$(".modal-btn"),$(".modal-close")),c=$(".modal-content"),d=$(".modal-bg"),u=($("#modalDetail"),$("#modalUpdate"),$("#modalCreate"),$("#modalImage"),$("#userid"),$("#password"),$("#passwordCheck"),$("#passwordCheckTxt"),$("#useremail")),p=($("#username"),$("#imgUrl"),$("#qrImg"),$("#otpNum"),$("#secret"),$("#type"),$("#btnLogin"),$("#btnJoin"),$("#btnSignIn"),$("#updateTable"),$("#categoryTitle"),$("#categoryIcon"),$("#isEstablish"),$("input[name=create-attachment]"),$("input[name=attachment]"),$(".icon-delete-attach"),$("#subCategoryTitle"),$("#modalSubcategory"),$("#modalDoitImage"),$("#modalDoitImageTitle"),$("#btnSubmitImage"),$("#doitUuid"),$("#sponsor"),$(".doit-sponsor"),$("#sponsorUuid"),$("#selCategory"),$("#selSubcategory"),$("#doitTitle"),$("#doitKeyword"),$("#infoMaxUserCount"),$("#maxUserCount"),$("#doitDesc"),$("input[name=radio-public-type]"),$("input[name=chk-is-apply]"),$("input[name=chk-is-answer]"),$("input[name=chk-is-question]"),$("#doitQuestion"),$("#doitImage"),$("#doitKeywords"),$("#btnDoitOpen"),$("#btnDoitDelete"),$("#btnDoitStop"),$("#promotionInfo"),$("#modalPromotion"),$("#promotionTable"),$("#btnPromotion"),$("#btnPromotionCancel"),$("#tabUl"),$(".tab-contents"),$("#category"),$("#publicType"),$("#isApply"),$("#isAnswer"),$("#doitInfoForm"),$("#doitUpdateForm"),$("#infoDoitTitle"),$("#infoDoitDesc"),$("#infoDoitKeywords"),$("#infoQuestion"),$(".doit-image"),$("#btnAddKeyword"),$("#btnSubmitUpdateDoit"),$("#btnUpdateDoit"),$(".btn-doit-list"),$(".btn-mission-list"),$("#btnBackToMissionDetail"),$("#btnCreateMission"),$("#btnSubmitMission"),$("#btnUpdateMission"),$("#btnSubmitUpdateMission"),$("#btnDeleteMission"),$("#missionListForm"),$("#missionDetailForm"),$("#missionCreateForm"),$("#missionUpdateForm"),$("#missionTable"),$("#missionTitle"),$("#missionStartDate"),$("#missionEndDate"),$("input[name=chk-permanent]"),$("#missionStartTime"),$("#missionEndTime"),$("input[name=radio-action-type]"),$("#actionExampleWrap"),$("input[name=chk-gallery-allowed]"),$("#actionExampleDesc"),$("#promise"),$("#updateMissionTitle"),$("#updateMissionStartDate"),$("#updateMissionEndDate"),$("input[name=chk-update-permanent]"),$("#updateMissionStartTime"),$("#updateMissionEndTime"),$("input[name=radio-update-action-type]"),$("input[name=chk-update-gallery-allowed]"),$("#updateExampleWrap"),$("#updateActionExampleDesc"),$("#updatePromise"),$("#infoMissionTitle"),$("#infoMissionDate"),$("#infoMissionTime"),$("#infoActionType"),$("#infoActionExampleWrap"),$("#infoActionExampleDesc"),$("#infoPromise"),$("#joinMemberForm"),$("#pendingMemberForm"),$(".btn-join-members"),$("#btnPendingMembers"),$("#applyMemberCountWrap"),$("#totalMemberCount"),$(".apply-member-count"),$(".ban-member-count"),$("#selMissions"),$("#selMemberFilter"),$("input[name=radio-action-count]"),$("#actionCount"),$("#selJoinMemberPageLength"),$("#selApplyMemberPageLength"),$("#selBlockMemberPageLength"),$("#btnSaveUcd"),$("#btnSendNotice"),$("#applyQuestion"),$("#joinMemberTable"),$("#btnApproval"),$("#btnReject"),$("#applyMemberTable"),$("#modalSaveUcd"),$("#saveUcdContent"),$("#selRewardType"),$("#rewardKeyword"),$("#rewardTableWrap"),$("#rewardMemberTable"),$("#actionTimes"),$("#btnSubmitSaveUcd")),m=($("#modalSendNotice"),$("#notiContent"),$("#selNotiType"),$("#notiKeyword"),$("#notiTableWrap"),$("#notiTable"),$("#btnSubmitNoti"),$("#modalMemberInfo"),$("#modalMemberInfoNickname"),$("#modalMemberInfoJoinDate"),$("#modalMemberInfoQuestion"),$("#modalMemberInfoAnswer"),$("#btnBlockMembers"),$("#blockMemberForm"),$("#btnBan"),$("#btnSubmitBan"),$("#btnCancelBlock"),$("#blockMemberTable"),$("#modalBan"),$("input[name=chk-block]"),$("#banReasonWrap"),$("input[name=radio-reason]"),$("#banReason"),$("#ucdListForm"),$("#publicWalletBalance"),$("#btnSaveUcdWallet"),$("#searchUcdDateFrom"),$("#searchUcdDateTo"),$("#ucdKeyword"),$("#btnSearchUcd"),$("#btnResetSearchUcd"),$("#selUcdPageLength"),$("#modalSaveUcdWallet"),$("#saveWalletAmount"),$("#saveWalletDesc"),$("#btnSubmitSaveDoitUcd"),$("#btnBackActionList"),$("#actionListForm"),$("#totalActionCount")),g=($("#selActionPageLength"),$("#selActionDateType"),$("#searchActionDateFrom"),$("#searchActionDateTo"),$("#selActionMissions"),$("input[name=chk-action-status]"),$("#btnSearchAction"),$("#btnResetSearchAction"),$("#btnPullAction"),$("#btnSendWarnings"),$("#btnSendWarning"),$("#actionDetailForm"),$("#actionNickname"),$("#actionCreated"),$("#actionLikeCount"),$("#actionCommentCount"),$("#actionContentWrap"),$("#actionDesc"),$("#warningReason"),$("#actionCommentWrap"),$("#createCommentWrap"),$("#commentAction"),$("#btnSubmitCommentAction"),$("#selReason"),$("#btnSubmitSendWarning"),$("#btnCreateTalk"),$("#modalCreateTalk"),$("#talk"),$("input[name=radio-attach-type]"),$("#talkAttachmentWrap"),$("input[name=chk-notice-talk]"),$("#btnSubmitTalk"),$("#talkListForm"),$("#talkDetailForm"),$("#talkUpdateForm"),$("#searchTalkDateFrom"),$("#searchTalkDateTo"),$("#selTalkDateType"),$("#selTalkPageLength"),$("#btnSearchTalk"),$("#btnResetSearchTalk"),$("#talkTable"),$("#btnBackToTalkList"),$("#btnBackToTalkDetail"),$("#btnBlindTalk"),$("#btnDisplayTalk"),$("#btnDeleteTalk"),$("#btnUpdateTalk"),$("#infoTalkNickname"),$("#infoTalkIsBlind"),$("#infoTalkCreated"),$("#infoTalkLikeCount"),$("#infoTalkCommentCount"),$("#infoTalkContent"),$("#infoTalkAttachWrap"),$("#talkCommentWrap"),$("#createTalkCommentWrap"),$("#commentTalk"),$("#btnSubmitCommentTalk"),$("#updateTalk"),$("input[name=radio-update-attach-type]"),$("#updateTalkAttachWrap"),$("input[name=chk-update-notice-talk]"),$("#btnSubmitUpdateTalk"),$("#modalAttach"),$("#modalAttachContentWrap"),$("#doitTable"),$("#ucdTable"),$("#selPageLengthDoit"),$("#selPageLengthUcd"),$("#bizNo"),$("#bizWeb"),$("#description")),b=($("#btnSupportDoit"),$("#btnSupportLeader"),$("#targetUrl"),$("#targetPageType"),$("#targetUuid"),$("#historyTable"),$("#previewTitle"),$("#previewTable"),$("#curationTitle"),$("#noticeTitle"),$("#contentImageWrap"),$("#isTop"),$("#selFaqType"),$("#faqType"),$("#faqTitle"),$("#selInquiryType"),$("#inquiryTitle"),$("#attachmentWrap"),$("#answerEl"),$("#memoEl"),$("#admin"),$("#answerDate"),$("#actionsWrap")),f=($("#modalWarning"),$("#modalReason"),$("#reasonTable"),$("input[name=radio-report]"),$("#isBlind"),$("#talkCreated"),$("#likeCount"),$("#commentCount"),$("#talkAttachWrap"),$("input[name=radio-reserve-type]"),$("#reserveTime"),$("input[name=radio-target-page-type]"),$("#targetPage"),$("input[name=radio-receive-type]"),$("input[name=radio-category]"),$("input[name=radio-icon-type]"),$("input[name=radio-target-member-type]"),$("#modalTargetPage"),$("#modalTargetMember"),$("#btnModalTargetMemberOpen"),$("#memberTable"),$("#popupTitle"),$("input[name=radio-view-option]"),$("#startTime"),$("#endTime"),$("#viewOption"),$("#selEventType"),$("#eventType"),$("#eventTitle"),$("#eventNotice"),$("#eventDate"),$("#thumbnailImage"),$("#eventContentThumbnail"),$("#eventThumbnail"),$("#price"),$("#selHour"),$("#selMinute"),$("#btnSendGeneral"),$("#btnSendGift"),$("#modalGift"),$("#modalGeneral"),$("#generalMemo"),$("#btnSubmitGift"),$("#btnSubmitGeneral"),$("#giftUuid"),$("#giftName"),$("#totalUcd"),$("#btnSubmitMemo"),$("input[name=radio-manual]"),$("#selectGiftName"),$("#goodsCode"),$("#ktImageUrl"),$("#discontinuedDate"),$("#giftType"),$("#modalDetailContent"),$("#modalCancel"),$("#selAuthType"),$("#selBiz"),$("#auth"),$("#name"),$("#isApproval"),$("#bizName"),$("#authWrap"),$("#authCode"),$("#authName"),$("#btnSubmitAuth"),$("#menuWrap"),$("#isStore")),h=$("#hiddenProfileId"),y=$("#profileId"),v=$("#userNickname"),T=$("#contact"),k=$("#balance"),L=$("#isAuth"),w=$("#levelInfoWrap"),S=$("#levelHistoryWrap"),C=$("#ulLevelTab"),D=$("#userLevel"),_=$("#openedDoitCount"),x=$("#openedDoitAction"),M=$("#levelTable"),U=$("#btnLevelWrap"),A=$("#btnModalUcd"),W=$("#modalUcd"),P=$("#deviceInfoTableBody"),B=$("#openedDoitWrap"),I=$("#openedDoitTable"),N=$("#joinedDoitWrap"),F=$("#joinedDoitTable"),O=$("#categoryWrap"),q=$("#ucdInfoTable"),E=$("#ulDoitTab"),R=$("#modalActionDetail"),z=$("#modalActionContentWrap"),j=$("#modalActionDesc"),G=$("#modalActionWarningReason"),J=$("#modalActionExampleWrap"),K=$("#modalActionExampleDesc"),H=($("#countLevel1"),$("#countLevel2"),$("#countLevel3"),$("#countLevel4"),$("#countLevel5"),$("#countLevel6"),$("#modalLevelUp")),X=$("#levelUpReason"),Q=($("#selType"),$("#qualification"),$("#difficulty"),$("input[name=radio-open]"),$("#badgeTitle"),$("#badgeType"),$("#isOpen"),$("#popupImage"),$("#popupThumbnail"),$("#lottieType"),$("#inputString"),$("#resultString"),$("#btnEncryption"),$("#btnDecryption"),$("#keywordWrap"),$("#promotionDate"),$("#createDate"),$("#promotionStatus"),$("#dateFromSummary"),$("#dateToSummary"),$("#dateFromSummaryList"),$("#dateToSummaryList"),$("#btnRefreshMission"),$("#btnRefreshCategory"),{Authorization:btoa(JSON.stringify({authorization:"9c3a60d74726c4e1cc0732fd280c89dbf80a344e7c3dc2c4ad4fdf12b97e52c7",userid:t.val()}))});function V(t,e,a){return new Promise(((n,i)=>{$.ajax({global:t,url:e,type:"POST",headers:Q,contentType:"text/plain",dataType:"json",data:a,success:function(t){n(t)},error:function(t,e,a){i(a)},complete:function(t,e){}})}))}function Y(t){let e=t.msg,a=t.status;return[30034,30035,30308].indexOf(a)>-1&&(e=`선택한 이미지 사이즈는 ${t.data.width} x ${t.data.height} 입니다.\n                 ${t.msg}`),e}function Z(t){return 0===function(t){return t.status}(t)}function tt(t){return t.msg}const et=`${api_server_url}/v3/`,at={saveUserUcdFromXlsx:et+"ucd/set/charge/user/system/excel",saveUserUcdBySystem:et+"ucd/set/charge/user/system",saveUserUcdByBiz:et+"ucd/set/charge/user/company",saveDoitUcdBySystem:et+"ucd/set/charge/doit/system",saveDoitUcdByBiz:et+"ucd/set/charge/doit/company",saveBizUcd:et+"ucd/set/charge/company/system",dashboardSummary:et+"main/dashboard",dashboardSummaryList:et+"main/dashboard/get/list",dashboardMoreLeader:et+"main/dashboard/get/leaderRanklist",dashboardMoreDoit:et+"main/dashboard/get/doitRanklist",getProfile:et+"admin/get",updatePassword:et+"admin/update/pwd",memberList:et+"profile/get/list",detailMember:et+"profile/get/detail/info",levelUp:et+"profile/set/levelUp",levelDown:et+"profile/set/levelDown",cancelPartner:et+"profile/set/releasePartner",levelInfo:et+"profile/get/level",levelHistory:et+"profile/get/level/history",deviceInfo:et+"profile/get/device/info",memberDoitList:et+"profile/get/doit",memberCategoryList:et+"profile/get/category",memberActionList:et+"profile/get/action",memberActionDetail:et+"profile/get/detail/action",countPerLevel:et+"level/get/count",memberLevelList:et+"level/get/list",unlinkMemberList:et+"profile/get/unlink",changedMemberList:et+"profile/get/changed",badgeList:et+"badge/get/list",createBadge:et+"badge/create",detailBadge:et+"badge/get/detail/info",deleteBadge:et+"badge/delete",updateBadge:et+"badge/update",categoryList:et+"category/list",createCategory:et+"category/create",detailCategory:et+"category/detail",reorderCategory:et+"category/update/sequence",deleteCategory:et+"category/delete",updateCategory:et+"category/update",subCategoryList:et+"subcategory/list",createSubCategory:et+"subcategory/create",updateSubCategoryDoitImg:et+"subcategory/set/doit/image",deleteSubCategory:et+"subcategory/delete",reorderSubCategory:et+"subcategory/update/sequence",editSubCategory:et+"subcategory/update",keywordList:et+"keyword/get/list",createKeyword:et+"keyword/create",updateKeyword:et+"keyword/update",doitSponsorList:et+"doit/get/company",doitList:et+"doit/list",doitSetRecommend:et+"doit/set/recommend",createDoit:et+"doit/create",createDoitCategoryList:et+"category/exposure/list",detailDoit:et+"doit/detail",updateDoit:et+"doit/update",deleteDoit:et+"doit/delete",openDoit:et+"doit/set/open",stopDoit:et+"doit/set/stop",getDoitUcd:et+"ucd/get/doit",getUcdDoitList:et+"ucd/get/doit/list",missionList:et+"mission/get/list",createMission:et+"mission/create",detailMission:et+"mission/get/detail/info",updateMission:et+"mission/update",deleteMission:et+"mission/delete",joinMemberList:et+"member/get/list",infoJoinMember:et+"member/get/profile",rewardMemberList:et+"ucd/get/reward/profile",createReward:et+"ucd/set/reward/profile",countMember:et+"member/get/count",blockMember:et+"member/set/retire/ban",banMember:et+"member/set/retire",applyMemberList:et+"member/get/applylist",approvalMember:et+"member/get/applyConfirm",rejectMember:et+"member/get/applyReject",blockMemberList:et+"member/get/retire/ban/list",cancelBlockMember:et+"member/set/retire/ban/cancel",actionList:et+"action/get/list",detailAction:et+"action/get/detail/info",sendWarning:et+"action/set/yellow",cancelWarning:et+"action/set/yellowCancel",actionCommentList:et+"action/get/commentList",createActionComment:et+"action/set/insertComment",deleteActionComment:et+"action/set/deleteComment",actionReplyList:et+"action/get/comment/child/list",talkList:et+"board/get/list",createTalk:et+"board/create",detailTalk:et+"board/get/detail/info",updateTalk:et+"board/update",deleteTalk:et+"board/delete",talkCommentList:et+"board/get/commentList",createTalkComment:et+"board/set/insertComment",deleteTalkComment:et+"board/set/deleteComment",talkReplyList:et+"board/get/comment/child/list",pickList:et+"recommend/list",previewList:et+"recommend/get/doit",searchDoitList:et+"recommend/get/doit/list",reorderPick:et+"recommend/set",createPick:et+"recommend/create",updatePick:et+"recommend/update",detailPick:et+"recommend/detail",bizList:et+"biz/get/list",createBiz:et+"biz/create",detailBiz:et+"biz/get/detail/info",bizDoitList:et+"biz/get/detail/doit",bizUcdList:et+"ucd/list/get/company",updateBiz:et+"biz/update",getBizUcd:et+"ucd/get/company",noticeList:et+"notice/get/list",createNotice:et+"notice/create",detailNotice:et+"notice/get/detail/info",updateNotice:et+"notice/update",deleteNotice:et+"notice/delete",faqType:et+"faq/get/type",faqList:et+"faq/get/list",createFaq:et+"faq/create",detailFaq:et+"faq/get/detail/info",updateFaq:et+"faq/update",deleteFaq:et+"faq/delete",reorderFaq:et+"faq/set/orders",inquiryList:et+"qna/get/list",updateInquiry:et+"qna/set/insertComment",detailInquiry:et+"qna/get/detail/info",deleteInquiry:et+"qna/delete",reportActionList:et+"report/get/action/list",actionReportReasonList:et+"report/get/action/descriptionList",reportTalkList:et+"report/get/board/list",talkReportReasonList:et+"report/get/board/descriptionList",blindTalk:et+"report/set/blind",bannerList:et+"banner/get/list",createBanner:et+"banner/create",detailBanner:et+"banner/get/detail/info",updateBanner:et+"banner/update",reorderBanner:et+"banner/set/orders",targetEventList:et+"banner/get/event/list",targetDoitList:et+"banner/get/doit/list",targetNoticeList:et+"banner/get/notice/list",storyList:et+"story/get/list",createStory:et+"story/create",detailStory:et+"story/get/detail/info",updateStory:et+"story/update",reorderStory:et+"story/set/orders",eventList:et+"event/get/list",createEvent:et+"event/create",detailEvent:et+"event/get/detail/info",deleteEvent:et+"event/delete",updateEvent:et+"event/update",customEvent:et+"event/popup/get/list",customEventProfile:et+"event/popup/get/profile",pushList:et+"push/list",cancelPush:et+"push/set/cancel",createPush:et+"push/create",pushTargetNotice:et+"push/get/notice",pushTargetEvent:et+"push/get/event",pushTargetDoit:et+"push/get/doit",pushTargetMember:et+"push/get/profile",pushTargetMemberFromXlsx:et+"excel/import/notification/profile",popupList:et+"popup/get/list",createPopup:et+"popup/create",detailPopup:et+"popup/get/detail/info",updatePopup:et+"popup/update",deletePopup:et+"popup/delete",errorList:et+"error/list",updateError:et+"error/update",createEncryption:et+"operate/set/encryption",createDecryption:et+"operate/set/decryption",versionList:et+"operate/get/version/list",createVersion:et+"operate/version/create",deleteVersion:et+"operate/version/delete",logList:et+"log/get/list",getMemberForSaveUcd:et+"ucd/get/user/list",getMemberFromXlsx:et+"excel/import/profile",getDoitFromXlsx:et+"excel/import/doit",ucdChargeList:et+"ucd/list/get/charge",systemWalletType:et+"ucd/get/system/type",systemWalletList:et+"ucd/list/get/system",doitWalletList:et+"ucd/list/get/doit",memberWalletList:et+"ucd/list/get/user",pendingWalletList:et+"ucd/list/get/transfer",giftList:et+"gift/get/list",reorderGiftList:et+"gift/get/orderList",reorderGift:et+"gift/set/orders",createGift:et+"gift/create",ktGoodsList:et+"gift/get/kt/goods",detailGift:et+"gift/get/detail/info",updateGift:et+"gift/update",applyGiftList:et+"exchange/get/list",sendGifticon:et+"exchange/set/confirm",sendGeneralGift:et+"exchange/set/send",rejectGift:et+"exchange/set/reject",resendGift:et+"exchange/set/resend",getGiftBalance:et+"exchange/get/money",sendGiftList:et+"exchange/get/sendList",sendGiftStatusList:et+"exchange/get/payment",updateGiftSendMemo:et+"exchange/set/insertMemo",adminList:et+"admin/list",detailAdmin:et+"admin/detail",updateAdmin:et+"admin/update",deleteAdmin:et+"admin/delete",authBizList:et+"auth/get/biz/list",approvalAdmin:et+"admin/approval",authList:et+"auth/list",getMenuWithAuth:et+"auth/get/menu",setMenuWithAuth:et+"auth/set/menu",createAuth:et+"auth/create",deleteAuth:et+"auth/delete",promotionList:et+"promotion/get/list",createPromotion:et+"promotion/create",detailPromotion:et+"promotion/get/detail",updatePromotion:et+"promotion/update",closePromotion:et+"promotion/set/end",promotionDoitList:et+"promotion/get/doit/list",promotionProceedList:et+"promotion/get/proceed/list",setDoitPromotion:et+"promotion/set/doit",cancelDoitPromotion:et+"promotion/set/release"},nt="-",it="image",ot="video",rt="audio",st='<i class="fas fa-angle-double-left"></i>',lt='<i class="fas fa-angle-double-right"></i>',ct="/assets/v2/img/voice.jpg",dt=Swal.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}});function ut(t){dt.fire({icon:"info",title:t})}function pt(t,e){Swal.fire({toast:!0,position:"center",icon:Z(t)?"success":"error",title:Y(t),showConfirmButton:!1,timer:1500}).then((a=>{a.isDismissed&&Z(t)&&e()}))}function mt(t){Swal.fire({icon:"error",html:t})}function $t(t,e){Swal.fire({text:t,showCancelButton:!0,confirmButtonText:"확인",cancelButtonText:"취소"}).then((t=>{t.value&&e()}))}const gt="목록이 없습니다.",bt="/v2/member";function ft(){c.fadeOut(),d.fadeOut(),$("body").css("overflow-y","auto")}function ht(){$("body").css("overflow-y","hidden")}function yt(){$("img").on("error",(function(){$(this).attr("src","/assets/v2/img/no-image.jpg")}))}function vt(t){$(t).closest(".dataTables_wrapper").find(".dataTables_paginate").toggle(t.api().page.info().pages>0)}function Tt(t){return null==t||t.hasOwnProperty("length")&&0===t.length||t.constructor===Object&&0===Object.keys(t).length||t.constructor===String&&""===t.trim()}function kt(t){return Tt(t)||isNaN(t)?0:t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Lt(t){return/^[0-9]*$/g.test(t)}const wt=Tt(h.val())?sessionStorage.getItem("pid"):h.val();function St(){const t={profile_uuid:wt};V(!0,at.detailMember,JSON.stringify(t)).then((async function(t,e,a){Z(t)?function(t){const{profile_uuid:e,nickname:a,phone:n,email:i,is_auth:o,ucd:r}=t.data;y.text(e),T.text(n),v.text(a),u.text(i),k.text(kt(r)),L.text(o)}(t):ut(tt(t))})).catch((t=>mt("기본정보을(를) 불러올 수 없습니다.")))}function Ct(){const t={profile_uuid:wt};V(!1,at.levelInfo,JSON.stringify(t)).then((async function(t,e,a){Z(t)?function(t){const{level_name:e,level:a,total_doit_action_count:n,create_doit_count:i,action_count:o}=t.data;(function(t){let e="";switch(t){case"1":case"2":case"3":e='<button id="btnPartner" type="button" class="btn-sm btn-outline-secondary"><i class="fas fa-star"></i> Lv.파트너 설정</button>';break;case"4":e='<button id="btnPartner" type="button" class="btn-sm btn-outline-secondary"><i class="fas fa-star"></i> Lv.파트너 설정</button>\n\t\t\t\t\t\t\t<button id="btnLevelUp" type="button" class="btn-sm btn-outline-warning"><i class="fas fa-level-up-alt"></i> Lv.레전드로 승급</button>';break;case"5":e='<button id="btnPartner" type="button" class="btn-sm btn-outline-secondary"><i class="fas fa-star"></i> Lv.파트너 설정</button>\n\t\t\t\t\t\t\t<button id="btnLevelDown" type="button" class="btn-sm btn-outline-orange"><i class="fas fa-level-down-alt"></i> Lv.마스터로 강등</button>';break;case"6":e='<button id="btnCancel" type="button" class="btn-sm btn-outline-orange"><i class="fas fa-level-down-alt"></i> Lv.파트너 해제</button>'}U.html(e),$("#btnLevelWrap button").on("click",(function(){Nt(this)}))})(a),D.text(e),m.text(kt(o)),_.text(kt(i)),x.text(kt(n))}(t):ut(tt(t))})).catch((t=>mt("레벨정보을(를) 불러올 수 없습니다.")))}function Dt(){I.DataTable({ajax:{url:at.memberDoitList,type:"POST",headers:Q,global:!1,dataFilter:function(t){let e=JSON.parse(t);return Z(e)?(e.recordsTotal=e.count,e.recordsFiltered=e.count):(e.data=[],ut(tt(e))),JSON.stringify(e)},data:function(t){const e={doit_type:"leader",profile_uuid:wt,limit:t.length,page:t.start/t.length+1};return JSON.stringify(e)},error:function(t,e){mt("두잇개설 목록을(를) 불러올 수 없습니다.")}},columns:[{title:"두잇명",data:"doit_title",width:"35%"},{title:"참여 인원",data:"member_cnt",width:"10%",render:function(t){return kt(t)}},{title:"오픈일",data:"opened",width:"15%",render:function(t,e,a,n){return t.substring(0,10)}}],serverSide:!0,paging:!0,pageLength:10,select:!1,destroy:!0,initComplete:function(){},fnRowCallback:function(t,e){},drawCallback:function(t){vt(this)}})}f.val()&&sessionStorage.setItem("pid",wt.toString()),$((()=>{$.extend(!0,$.fn.dataTable.defaults,{ordering:!1,order:[],info:!1,processing:!1,lengthChange:!1,autoWidth:!1,searching:!1,fixedHeader:!1,language:{emptyTable:gt,zeroRecords:gt,processing:"검색 중..",paginate:{previous:st,next:lt}}}),$("[data-moveto]").on("click",(function(t){const e=$(this).data("moveto"),a=$("#"+e).offset().top;$("html, body").stop().animate({scrollTop:a-180},300),t.preventDefault(),t.stopPropagation()})),St(),Ct(),function(){const t={profile_uuid:wt};V(!0,at.deviceInfo,JSON.stringify(t)).then((async function(t,e,a){Z(t)?function(t){if(!Tt(t.data)&&t.data.length>0){let e="";t.data.map((t=>{const{device:a,client_id:n,device_token:i,created:o}=t;e+=`<tr>\n\t\t\t\t\t\t<td>${a}</td>\n\t\t\t\t\t\t<td>${n}</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<div><input type="text" class="input-copy" style="width: 150px" value="${i}" readonly=""><i class="fas fa-copy"></i></div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>${o}</td>\n\t\t\t\t\t</tr>`})),P.html(e),$(".fas.fa-copy").on("click",(function(){$(this).siblings("input.input-copy").trigger("select"),document.execCommand("copy"),ut("클립보드에 복사 됨.")}))}}(t):ut(tt(t))})).catch((t=>mt("기기정보을(를) 불러올 수 없습니다.")))}(),function(){const t={profile_uuid:wt};V(!0,at.memberCategoryList,JSON.stringify(t)).then((async function(t,e,a){Z(t)?function(t){if(!Tt(t.data)&&t.data.length>0){let e="";t.data.map((t=>{const{category_title:a,subcategory_info:n}=t;let i="";!Tt(n)&&n.length>0&&n.map((t=>{i+=`<li>#<span>${t.subcategory_title}</span></li>`})),e+=`<tr>\n\t\t\t\t\t\t<th>${a}</th>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<ul class="tag-list clearfix">\n\t\t\t\t\t\t\t\t${i}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>`})),O.html(e)}else O.parent().hide(),O.parent().after('<div class="card"><p class="message">관심 카테고리가 없습니다.</p></div>')}(t):ut(tt(t))})).catch((t=>mt("관심카테고리을(를) 불러올 수 없습니다.")))}(),Dt(),Wt(),Pt(),o.on("propertychange change keyup paste input",(function(){!function(t){let e=$(t).val().split(""),a=e.length,n="";for(let t=0;t<a;t++)0!=e[0]&&Lt(e[0])||(e[0]=""),Lt(e[t])&&(n+=e[t]);$(t).val(n)}(this)})),s.on("propertychange change keyup paste input",(function(){!function(t){let e=$(t).val().length,a=$(t).prop("maxLength");e>a&&a>0&&($(t).val($(t).val().slice(0,a)),e=a),$(t).next().find(".count-input").text(e)}(this)})),A.on("click",(function(){W.fadeIn(),d.fadeIn(),ht(),o.trigger("focus"),o.val(""),g.val(""),r.val("")})),l.on("click",(function(){ft()})),d.on("click",(function(){ft()})),n.on("click",(function(){history.back()})),a.on("click",(function(){location.href=bt})),E.on("click",(function(t){!function(t){const e=$(t.target),a=$(e).data("target");switch(a){case"#openedDoitWrap":Dt();break;case"#joinedDoitWrap":F.DataTable({ajax:{url:at.memberDoitList,type:"POST",headers:Q,global:!1,dataFilter:function(t){let e=JSON.parse(t);return Z(e)?(e.recordsTotal=e.count,e.recordsFiltered=e.count):(e.data=[],ut(tt(e))),JSON.stringify(e)},data:function(t){const e={doit_type:"member",profile_uuid:wt,limit:t.length,page:t.start/t.length+1};return JSON.stringify(e)},error:function(t,e){mt("두잇참여 목록 을(를) 불러올 수 없습니다.")}},columns:[{title:"두잇명",data:"doit_title",width:"35%"},{title:"상태",data:"doit_status",width:"10%",render:function(t){switch(t){case"create":return"생성";case"open":return"진행중";case"stop":return"운영정지";case"delete":return"삭제"}}}],serverSide:!0,paging:!0,pageLength:10,select:!1,destroy:!0,initComplete:function(){},fnRowCallback:function(t,e){},drawCallback:function(t){vt(this)}})}e.siblings().removeClass("active"),e.addClass("active"),B.hide(),N.hide(),$(a).show()}(t)})),C.on("click",(function(t){!function(t){const e=$(t.target),a=$(e).data("target");switch(a){case"#levelInfoWrap":Ct();break;case"#levelHistoryWrap":!function(){const t={profile_uuid:wt};V(!1,at.levelHistory,JSON.stringify(t)).then((async function(t,e,a){Z(t)?function(t){M.DataTable({data:t.data,columns:[{title:"레벨명",data:"level_name",width:"20%"},{title:"담당자",data:"reason",width:"20%",render:function(t){return Tt(t)?nt:t.split("||")[0]}},{title:"사유",data:"reason",width:"40%",render:function(t){return Tt(t)?nt:t.split("||")[1]}},{title:"설정일시",data:"created",width:"20%"}],serverSide:!1,paging:!0,pageLength:10,select:!1,destroy:!0,initComplete:function(){},fnRowCallback:function(t,e){},drawCallback:function(t){}})}(t):ut(tt(t))})).catch((t=>mt("레벨 변경 내역을 을(를) 불러올 수 없습니다.")))}()}e.siblings().removeClass("active"),e.addClass("active"),w.hide(),S.hide(),$(a).show()}(t)})),p.on("click",(function(){(Tt(o.val())?(ut("UCD는 필수항목입니다."),o.trigger("focus"),0):Number(o.val())>1e6?(ut("최대 1백만 UCD까지 가능합니다."),o.trigger("focus"),0):!Tt(g.val())||(ut("내용은 필수항목입니다."),g.trigger("focus"),0))&&$t("등록하시겠습니까?",Bt)})),e.on("click",(function(){Tt(X.val())?ut("사유는 필수항목입니다."):$t(Ot(Ut),Ft)}))}));let _t,xt,Mt,Ut,At=1;function Wt(){const t={limit:30,page:At,profile_uuid:wt};V(!0,at.memberActionList,JSON.stringify(t)).then((async function(t,e,a){await function(t){Z(t)?(function(t){let e='<div class="card"><p class="message">인증 정보가 없습니다.</p></div>';!Tt(t.data)&&t.data.length>0&&(e="",t.data.map(((t,a)=>{const{action_uuid:n,like_count:i,comment_count:o,report_count:r,doit_title:s,nickname:l,action_date:c,is_yellow:d,contents_type:u,contents_url:p,thumbnail_url:m}=t;let $;u===it?$=p:u===rt?$=ct:u===ot&&($=m),0!==a&&a%6!=0||(e+='<div class="row">'),e+=`<div class="col-2 auth-item">\n\t\t\t\t\t\t<div class="card">\n\t\t\t\t\t\t\t<div class="top clearfix">\n\t\t\t\t\t\t\t\t<div class="right-wrap">\n\t\t\t\t\t\t\t\t\t<span><i class="fas fa-heart"></i> ${i}</span>\n\t\t\t\t\t\t\t\t\t<span><i class="fas fa-comment"></i> ${o}</span>\n\t\t\t\t\t\t\t\t\t<span><i class="fas fa-exclamation-triangle"></i> ${r}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="img-wrap action-image-wrap" data-uuid="${n}">\n\t\t\t\t\t\t\t\t<img src="${$}" alt="">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p class="title">${s}</p>\n\t\t\t\t\t\t\t<span class="nick-name">${l}</span>\n\t\t\t\t\t\t\t<span class="date">${c}</span>\n\t\t\t\t\t\t\t${"Y"===d?'<strong class="red-card"><img src="/assets/v2/img/red-card.png" alt=""></strong>':""}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`,a>0&&(a+1)%6==0&&(e+="</div>")}))),b.html(e),yt(),$(".action-image-wrap").on("click",(function(){_t=$(this).data("uuid"),R.fadeIn(),d.fadeIn(),ht(),function(){const t={action_uuid:_t};V(!0,at.memberActionDetail,JSON.stringify(t)).then((async function(t,e,a){Z(t)?function(t){const{action_contents_type:e,action_contents_url:a,action_description:n,example_contents_type:i,example_contents_url:o,example_description:r,is_yellow:s,yellow_reason:l}=t.data;let c="";switch(e){case it:c=`<div class="img-wrap"><img src="${a}" alt=""></div>`;break;case ot:c=`<div class="video-wrap"><video controls><source src="${a}"/></video></div>`;break;case rt:c=`<div class="audio-wrap"><img src="/assets/v2/img/voice.jpg" alt=""><audio controls><source src="${a}"/></audio></div>`}let d="";switch(i){case it:d=`<div class="img-wrap"><img src="${o}" alt=""></div>`;break;case ot:d=`<div class="video-wrap"><video controls><source src="${o}"/></video></div>`;break;case rt:d=`<div class="audio-wrap"><img src="/assets/v2/img/voice.jpg" alt=""><audio controls><source src="${o}"/></audio></div>`}z.html(c),j.text(n),G.text("Y"===s?l:nt),J.html(d),K.text(r),yt()}(t):ut(tt(t))})).catch((t=>mt("인증 정보을(를) 불러올 수 없습니다.")))}()}))}(t),function(t){const e=t.count,a=Math.ceil(e/30);i.html(function(t,e){let a,n,i,o="";if(o+=1===t?`<a class="paginate_button previous disabled" id="dataTable_previous">${st}</a><span>`:`<a class="paginate_button previous" data-page="${t-1}" id="dataTable_previous">${st}</a><span>`,e<=7)for(a=1;a<=e;a++)n=e>1&&t===a?"current":"",o+=`<a class="paginate_button ${n}" data-page="${a}">${a}</a>`;else if(t<5)for(a=1;a<=7;a++)n=e>1&&t===a?"current":"",i=7===a?e:a,o+=6===a?'<span class="ellipsis">…</span>':`<a class="paginate_button ${n}" data-page="${i}">${i}</a>`;else if(t>=5&&t<=e-4)for(a=1;a<=e;a++)1===a&&(o+=`<a class="paginate_button" data-page="${a}">${a}</a>\n\t\t\t\t\t\t\t<span class="ellipsis">…</span>`),t===a&&(o+=`<a class="paginate_button" data-page="${a-1}">${a-1}</a>\n\t\t\t\t\t\t\t<a class="paginate_button current" data-page="${a}">${a}</a>\n\t\t\t\t\t\t\t<a class="paginate_button" data-page="${a+1}">${a+1}</a>`),e===a&&(o+=`<span class="ellipsis">…</span>\n\t\t\t\t\t\t\t<a class="paginate_button" data-page="${e}">${e}</a>`);else if(t>e-4)for(a=1;a<=7;a++)n=t===e-(7-a)?"current":"",i=a>=3?e-(7-a):a,o+=2===a?'<span class="ellipsis">…</span>':`<a class="paginate_button ${n}" data-page="${i}">${i}</a>`;return o+=e===t||0===Number(e)?`</span><a class="paginate_button next disabled" id="dataTable_next">${lt}</a>`:`</span><a class="paginate_button next" data-page="${t+1}" id="dataTable_next">${lt}</a>`,o}(At,a)),$(".paginate_button").not(".disabled").on("click",(function(){var t;t=this,$(t).siblings().removeClass("current"),$(t).addClass("current"),At=$(t).data("page"),Wt()}))}(t)):ut(t.msg)}(t)})).catch((t=>mt("인증 정보을(를) 불러올 수 없습니다.")))}function Pt(){q.DataTable({ajax:{url:at.memberWalletList,type:"POST",headers:Q,dataFilter:function(t){let e=JSON.parse(t);return Z(e)?(e.recordsTotal=e.data.count,e.recordsFiltered=e.data.count,e.data=e.data.list):(e.data=[],ut(tt(t))),JSON.stringify(e)},data:function(t){const e={from_date:"",to_date:"",search_type:"profile_uuid",keyword:wt,page:t.start/t.length+1,limit:t.length};return JSON.stringify(e)},error:function(t,e){mt("UCD목록을(를) 불러올 수 없습니다.")}},columns:[{title:"구분",data:"division",width:"10%"},{title:"제목",data:"title",width:"15%"},{title:"내용",data:"description",width:"40%",render:function(t,e,a,n){return Tt(t)?nt:t}},{title:"UCD",data:"value",width:"10%",render:function(t,e,a,n){return kt(t)}},{title:"일시",data:"created",width:"15%"}],serverSide:!0,paging:!0,pageLength:30,select:!1,destroy:!0,initComplete:function(){},fnRowCallback:function(t,e){var a;a=e.value,-1===Math.sign(a)&&$(t).addClass("minus-pay")},drawCallback:function(t){vt(this)}})}function Bt(){const t={profile_uuid:[wt],value:o.val().trim(),description:g.val().trim()};V(!0,at.saveUserUcdBySystem,JSON.stringify(t)).then((async function(t,e,a){await pt(t,It)})).catch((t=>mt("등록 처리 중, 오류가 발생했습니다.")))}function It(){ft(),St(),Pt()}function Nt(t){Ut=t.id,xt=function(t){switch(t){case"btnLevelUp":return at.levelUp;case"btnLevelDown":return at.levelDown;case"btnCancel":return at.cancelPartner;default:return at.levelUp}}(Ut),Mt=function(t){switch(t){case"btnPartner":return 6;case"btnLevelUp":return 5;case"btnLevelDown":return 4;case"btnCancel":return""}}(Ut),"btnPartner"===Ut||"btnLevelUp"===Ut?(H.fadeIn(),d.fadeIn(),X.val(""),X.trigger("focus")):$t(Ot(Ut),Ft)}function Ft(){const t={profile_uuid:wt};Tt(Mt)||(t.level=Mt),Number(Mt)>=5&&(t.reason=X.val().trim()),V(!0,xt,JSON.stringify(t)).then((async function(t,e,a){ft(),await pt(t,Ct)})).catch((t=>mt("레벨 처리 중, 오류가 발생했습니다.")))}function Ot(t){switch(t){case"btnLevelUp":return"확인을 누르면 레전드로 승급합니다.";case"btnLevelDown":return"확인을 누르면 마스터로 강등합니다.";case"btnCancel":return"확인을 누르면 파트너 등급을 해제합니다.";default:return"확인을 누르면 파트너 등급으로 설정합니다."}}})();