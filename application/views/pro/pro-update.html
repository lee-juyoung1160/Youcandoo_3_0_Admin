<link rel="stylesheet" href="/assets/css/create-common.css">
<link rel="stylesheet" href="/assets/css/pro-create.css">
<section class="pro-create-page">
    <div class="inner">
        <h2 class="main-title">프로모션 상세 수정</h2>
        <div class="wrap">
            <ul class="enrollment clearfix">
                <li>
                    <p class="sub-title important">스폰 기업명 (*)</p>
                    <input type="text" placeholder="제목을 입력해주세요.">
                </li>
                <li>
                    <p class="sub-title important">프로모션명 (*)</p>
                    <input type="text" placeholder="제목을 입력해주세요.">
                </li>
                <li class="tag-list">
                    <p class="sub-title important">프로모션 예산 (*)</p>
                    <i class="question-mark far fa-question-circle">
                        <span class="hover-text">*집행 예산의 수수료30% 부과 (수수료=집행예산X30%) <br>* 유캔두와 컨설팅 후 예산을 입력해주세요</span>
                    </i>
                    <div class="wrap">
                        <input type="number">
                        <span class="input-num-title">원</span>
                    </div>
                </li>
                <li>
                    <p class="sub-title important">프로모션 기간 (*)</p>
                    <input type="date">
                    <span class="date-margin-text"> ~ </span>
                    <input type="date">
                </li>
                <li>
                    <p class="sub-title important">유의사항 (*)</p>
                    <p></p>
                </li>
                <li class="clearfix">
                    <p class="sub-title important">이미지 (*)</p>
                    <div class="filebox preview-image">
                        <p class="cap">메인 배너 (* 이미지 사이즈: 650 x 650)</p>
                        <input class="upload-name" value="파일선택" disabled="disabled" >
                        <label for="input-file1">업로드</label>
                        <input type="file" id="input-file1" class="upload-hidden">
                    </div>
                    <div class="filebox preview-image">
                        <p class="cap">리스트 썸네일(* 이미지 사이즈: 160 x 165)</p>
                        <input class="upload-name" value="파일선택" disabled="disabled" >
                        <label for="input-file2">업로드</label>
                        <input type="file" id="input-file2" class="upload-hidden">
                    </div>
                </li>
                <li class="doit-open">
                    <p class="sub-title important">두잇 개설 유형 (*)</p>
                    <div class="checkbox-wrap">
                        <input type="radio" id="c6" name="rc" />
                        <label for="c6">사용자 두잇 개설 허용<span></span></label>

                        <input type="radio" id="c7" name="rc" />
                        <label for="c7">기업만 두잇 개설 허용<span></span></label>

<!--                        <div class="checkbox-wrap">-->
<!--                            <input type="checkbox" id="c8" name="cc" />-->
<!--                            <label class="doit-option-contents-btn" for="c8">두잇 개설 시, 승인 사용 (체크시, 승인 후 두잇 앱에 노출)<span></span></label>-->
<!--                        </div>-->
                    </div>
                </li>
<!--                <li class="doit-open">-->
<!--                    <p class="sub-title important">프로모션 노출 여부 (*)</p>-->
<!--                    <div class="checkbox-wrap">-->
<!--                        <input type="radio" id="c9" name="rc" />-->
<!--                        <label for="c9">노출<span></span></label>-->

<!--                        <input type="radio" id="c10" name="rc" />-->
<!--                        <label for="c10">비노출<span></span></label>-->
<!--                    </div>-->
<!--                </li>-->
                <li class="pro-reward-list">
                    <p class="sub-title important">리워드 조건 지정 (*)</p>
                    <i class="question-mark far fa-question-circle">
                        <span class="hover-text">* 최소 1개 최대 5개까지 등록이 가능합니다.</span>
                    </i>
                    <button class="add-btn upload-btn" type="button">
                        <i class="fas fa-plus"></i>
                        <span>생성하기</span>
                    </button>
                </li>
                <li>
                    <button class="completion-btn" type="submit">수정 완료</button>
                </li>
            </ul>

            <div class="modal-content">
                <div class="wrap">
                    <i class="close-btn fas fa-times-circle"></i>
                    <p class="modal-title">리워드 조건 지정 입력하기</p>
                    <ul class="pro-reward">
                        <li>
                            <p class="sub-title important">리워드 제목 (*)</p>
                            <input type="text" placeholder="제목을 입력해주세요.">
                        </li>
                        <li>
                            <p class="sub-title important">인증 기간 (*)</p>
                            <input type="date">
                            <span class="date-margin-text"> ~ </span>
                            <input type="date">
                        </li>
                        <li>
                            <p class="sub-title important">일일인증 횟수 (*)</p>
                            <input type="number">
                            <span class="input-num-title">회</span>
                        </li>
                        <li>
                            <p class="sub-title important">목표달성률 (*)</p>
                            <input type="number">
                            <span class="input-num-title">%</span>
                        </li>
                        <li class="method-li">
                            <p class="sub-title important">1인당 최대 지급할 UCD (*)</p>
                            <input type="number">
                            <span class="input-num-title">원</span>
                        </li>
                        <li class="reward-typ-li clearfix">
                            <p class="sub-title important">리워드 유형 (*)</p>
                            <span class="input-num-title">개인</span>
                            <input type="number">
                            <span class="input-num-title margin-text">:</span>

                            <span class="input-num-title">단체</span>
                            <input type="number">
                        </li>
                        <li>
                            <p class="sub-title important">주간 빈도 (*)</p>
                            <ul class="day-btn clearfix">
                                <!--        다중선택 가능하게 스크립트                -->
                                <li class="active">월</li>
                                <li>화</li>
                                <li>수</li>
                                <li>목</li>
                                <li>금</li>
                                <li>토</li>
                                <li>일</li>
                            </ul>
                        </li>
                        <li class="clearfix">
                            <button class="completion-btn" type="submit">입력 완료</button>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="modal-layout"></div>

            <div class="pro-reward-add-list">
                <div class="inner clearfix">
                    <h2 class="main-title">리워드 조건 생성 목록</h2>
                    <ul class="enrollment clearfix">
                        <i class="delete-btn far fa-times-circle"></i>
                        <li>
                            <p class="sub-title important">리워드 제목 (*)</p>
                            <p class="detail-data">일주일동안 주 3회 운동 3시간 하기</p>
                        </li>
                        <li class="tag-list">
                            <p class="sub-title important">인증 기간 (*)</p>
                            <p class="detail-data">2020.02.02 ~ 2020.03.03</p>
                        </li>
                        <li class="clearfix">
                            <p class="sub-title important">일일인증 횟수 (*)</p>
                            <p class="detail-data">3회</p>
                        </li>
                        <li>
                            <p class="sub-title important">목표달성률 (*)</p>
                            <p class="detail-data">80%</p>
                        </li>
                        <li>
                            <p class="sub-title important">1인당 최대 지급할 UCD (*)</p>
                            <p class="detail-data">1,000 UCD</p>
                        </li>
                        <li>
                            <p class="sub-title important">리워드 유형 (*)</p>
                            <p class="detail-data">개인 5 : 단체 5</p>
                        </li>
                        <li>
                            <p class="sub-title important">주간빈도 (*)</p>
                            <ul class="day-btn clearfix">
                                <li class="active">월</li>
                                <li>화</li>
                                <li class="active">수</li>
                                <li>목</li>
                                <li class="active">금</li>
                                <li>토</li>
                                <li>일</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>


<script>
    // select click event
    $(document).ready(function() {
        var selectTarget = $('.select-box select');

        selectTarget.change(function(){
            var select_name = $(this).children('option:selected').text();
            $(this).siblings('label').text(select_name);
        });
    });

    // input flie 변환
    $(document).ready(function(){
        var fileTarget = $('.filebox .upload-hidden');

        fileTarget.on('change', function(){
            if(window.FileReader){
                var filename = $(this)[0].files[0].name;
            } else {
                var filename = $(this).val().split('/').pop().split('\\').pop();
            }
            $(this).siblings('.upload-name').val(filename);
        });
    });


    // input preview image
    var imgTarget = $('.preview-image .upload-hidden');

    imgTarget.on('change', function(){
        var parent = $(this).parent();
        parent.children('.upload-display').remove();

        if(window.FileReader){
            //image 파일만
            if (!$(this)[0].files[0].type.match(/image\//)) return;

            var reader = new FileReader();
            reader.onload = function(e){
                var src = e.target.result;
                parent.prepend('<div class="upload-display"><div class="upload-thumb-wrap"><img src="'+src+'" class="upload-thumb"></div></div>');
            }
            reader.readAsDataURL($(this)[0].files[0]);
        }
        else {
            $(this)[0].select();
            $(this)[0].blur();
            var imgSrc = document.selection.createRange().text;
            parent.prepend('<div class="upload-display"><div class="upload-thumb-wrap"><img class="upload-thumb"></div></div>');

            var img = $(this).siblings('.upload-display').find('img');
            img[0].style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(enable='true',sizingMethod='scale',src=\""+imgSrc+"\")";
        }
    });

    // modal event
    $('.upload-btn').click(function () {
        $('.modal-layout').fadeIn();
        $('.modal-content').fadeIn();
    });
    $('.close-btn').click(function () {
        $('.modal-layout').fadeOut();
        $('.modal-content').fadeOut();
    });
    $('.modal-layout').click(function () {
        $('.modal-layout').fadeOut();
        $('.modal-content').fadeOut();
    });

</script>