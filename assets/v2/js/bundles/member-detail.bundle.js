(()=>{"use strict";$("body"),$("section"),$(".search-wrap select"),$("img"),$(".side-toggle-btn"),$("aside.main-menu"),$("#mainMenu");const t=$("#sessionUserid"),e=($("#sessionUserIp"),$("#sessionAuthCode"),$("#sessionDeptName"),$("#sessionBizIdx"),$("#env"),$("#loader"),$("#btnScrollTop"),$("#btnXlsxImport"),$("#btnXlsxExport"),$(".date-btn .btn"),$(".datepicker"),$(".date-from"),$(".date-to"),$("#selDateType"),$("#selSearchType"),$("input[name=chk-type]"),$("input[name=chk-status]"),$("input[name=radio-type]"),$("input[name=radio-status]"),$("#keyword"),$("#btnSearch"),$("#btnReset"),$("#btnSubmit")),a=($("#btnCancel"),$("#btnClose"),$("#btnCreate"),$("#btnUpdate"),$("#btnSubmitUpdate"),$("#btnDelete"),$("#btnAdd"),$("#btnList")),n=$("#btnBack"),i=($("#checkTypeWrap"),$("#selPageLength"),$("#selSort"),$("#dataTable"),$("#dataTable_paginate")),o=($("#totalCount"),$("#thumbnail"),$("#amount")),r=($("#nickname"),$("#memo")),s=($("#title"),$("#content"),$("#contentImage"),$("#reserveDate"),$("input[name=radio-os-type]"),$("#osType"),$("#version"),$("#isExposure"),$("input[name=radio-exposure]"),$("#exposureDate"),$("#link"),$("#deviceInfo"),$(".length-input")),l=($(".only-num"),$("#selStartHour"),$("#selStartMinute"),$("#selEndHour"),$("#selEndMinute"),$(".modal-btn"),$(".modal-close")),c=$(".modal-content"),d=$(".modal-bg"),u=($("#modalDetail"),$("#modalUpdate"),$("#modalCreate"),$("#modalImage"),$("#userid"),$("#password"),$("#passwordCheck"),$("#passwordCheckTxt"),$("#useremail")),p=($("#username"),$("#imgUrl"),$("#qrImg"),$("#otpNum"),$("#secret"),$("#type"),$("#btnLogin"),$("#btnJoin"),$("#btnSignIn"),$("#updateTable"),$("#categoryTitle"),$("#categoryIcon"),$("#isEstablish"),$("input[name=create-attachment]"),$("input[name=attachment]"),$(".icon-delete-attach"),$("#subCategoryTitle"),$("#modalSubcategory"),$("#modalDoitImage"),$("#modalDoitImageTitle"),$("#btnSubmitImage"),$("#doitUuid"),$("#sponsor"),$(".doit-sponsor"),$("#sponsorUuid"),$("#selCategory"),$("#selSubcategory"),$("#doitTitle"),$("#doitKeyword"),$("#infoMaxUserCount"),$("#maxUserCount"),$("#doitDesc"),$("input[name=radio-public-type]"),$("input[name=chk-is-apply]"),$("input[name=chk-is-answer]"),$("input[name=chk-is-question]"),$("#doitQuestion"),$("#doitImage"),$("#doitKeywords"),$("#btnDoitOpen"),$("#btnDoitDelete"),$("#btnDoitStop"),$("#promotionInfo"),$("#modalPromotion"),$("#promotionTable"),$("#btnPromotion"),$("#btnPromotionCancel"),$("#tabUl"),$(".tab-contents"),$("#category"),$("#publicType"),$("#isApply"),$("#isAnswer"),$("#doitInfoForm"),$("#doitUpdateForm"),$("#infoDoitTitle"),$("#infoDoitDesc"),$("#infoDoitKeywords"),$("#infoQuestion"),$(".doit-image"),$("#btnAddKeyword"),$("#btnSubmitUpdateDoit"),$("#btnUpdateDoit"),$(".btn-doit-list"),$(".btn-mission-list"),$("#btnBackToMissionDetail"),$("#btnCreateMission"),$("#btnSubmitMission"),$("#btnUpdateMission"),$("#btnSubmitUpdateMission"),$("#btnDeleteMission"),$("#missionListForm"),$("#missionDetailForm"),$("#missionCreateForm"),$("#missionUpdateForm"),$("#missionTable"),$("#missionTitle"),$("#missionStartDate"),$("#missionEndDate"),$("input[name=chk-permanent]"),$("input[name=radio-action-type]"),$("#actionExampleWrap"),$("input[name=chk-gallery-allowed]"),$("#actionExampleDesc"),$("#promise"),$("#updateMissionTitle"),$("#updateMissionStartDate"),$("#updateMissionEndDate"),$("input[name=chk-update-permanent]"),$("#selUpdateStartHour"),$("#selUpdateStartMinute"),$("#selUpdateEndHour"),$("#selUpdateEndMinute"),$("input[name=radio-update-action-type]"),$("input[name=chk-update-gallery-allowed]"),$("#updateExampleWrap"),$("#updateActionExampleDesc"),$("#updatePromise"),$("#infoMissionTitle"),$("#infoMissionDate"),$("#infoMissionTime"),$("#infoActionType"),$("#infoActionExampleWrap"),$("#infoActionExampleDesc"),$("#infoPromise"),$("#joinMemberForm"),$("#pendingMemberForm"),$(".btn-join-members"),$("#btnPendingMembers"),$("#applyMemberCountWrap"),$("#totalMemberCount"),$(".apply-member-count"),$(".ban-member-count"),$("#selMissions"),$("#selMemberFilter"),$("input[name=radio-action-count]"),$("#actionCount"),$("#selJoinMemberPageLength"),$("#selApplyMemberPageLength"),$("#selBlockMemberPageLength"),$("#btnSaveUcd"),$("#btnSendNotice"),$("#applyQuestion"),$("#joinMemberTable"),$("#btnApproval"),$("#btnReject"),$("#applyMemberTable"),$("#modalSaveUcd"),$("#saveUcdContent"),$("#selRewardType"),$("#rewardKeyword"),$("#rewardTableWrap"),$("#rewardMemberTable"),$("#actionTimes"),$("#btnSubmitSaveUcd")),m=($("#modalSendNotice"),$("#notiContent"),$("#selNotiType"),$("#notiKeyword"),$("#notiTableWrap"),$("#notiTable"),$("#btnSubmitNoti"),$("#modalMemberInfo"),$("#modalMemberInfoNickname"),$("#modalMemberInfoJoinDate"),$("#modalMemberInfoQuestion"),$("#modalMemberInfoAnswer"),$("#btnBlockMembers"),$("#blockMemberForm"),$("#btnBan"),$("#btnSubmitBan"),$("#btnCancelBlock"),$("#blockMemberTable"),$("#modalBan"),$("input[name=chk-block]"),$("#banReasonWrap"),$("input[name=radio-reason]"),$("#banReason"),$("#searchTab li"),$("#ongoingRankTable"),$("#totalRankTable"),$("#btnRefreshTotalRank"),$("#btnRefreshOngoingRank"),$("#ucdListForm"),$("#publicWalletBalance"),$("#btnSaveUcdWallet"),$("#searchUcdDateFrom"),$("#searchUcdDateTo"),$("#ucdKeyword"),$("#btnSearchUcd"),$("#btnResetSearchUcd"),$("#selUcdPageLength"),$("#modalSaveUcdWallet"),$("#saveWalletAmount"),$("#saveWalletDesc"),$("#btnSubmitSaveDoitUcd"),$("#btnBackActionList"),$("#actionListForm"),$("#totalActionCount")),g=($("#selActionPageLength"),$("#selActionDateType"),$("#searchActionDateFrom"),$("#searchActionDateTo"),$("#selActionMissions"),$("input[name=chk-action-status]"),$("#btnSearchAction"),$("#btnResetSearchAction"),$("#btnPullAction"),$("#btnSendWarnings"),$("#btnSendWarning"),$("#actionDetailForm"),$("#actionNickname"),$("#actionCreated"),$("#actionLikeCount"),$("#actionCommentCount"),$("#actionContentWrap"),$("#actionDesc"),$("#warningReason"),$("#actionCommentWrap"),$("#createCommentWrap"),$("#commentAction"),$("#btnSubmitCommentAction"),$("#selReason"),$("#btnSubmitSendWarning"),$("#btnCreateTalk"),$("#modalCreateTalk"),$("#talk"),$("input[name=radio-attach-type]"),$("#talkAttachmentWrap"),$("input[name=chk-notice-talk]"),$("#btnSubmitTalk"),$("#talkListForm"),$("#talkDetailForm"),$("#talkUpdateForm"),$("#searchTalkDateFrom"),$("#searchTalkDateTo"),$("#selTalkDateType"),$("#selTalkPageLength"),$("#btnSearchTalk"),$("#btnResetSearchTalk"),$("#talkTable"),$("#btnBackToTalkList"),$("#btnBackToTalkDetail"),$("#btnBlindTalk"),$("#btnDisplayTalk"),$("#btnDeleteTalk"),$("#btnUpdateTalk"),$("#infoTalkNickname"),$("#infoTalkIsBlind"),$("#infoTalkCreated"),$("#infoTalkLikeCount"),$("#infoTalkCommentCount"),$("#infoTalkContent"),$("#infoTalkAttachWrap"),$("#talkCommentWrap"),$("#createTalkCommentWrap"),$("#commentTalk"),$("#btnSubmitCommentTalk"),$("#updateTalk"),$("input[name=radio-update-attach-type]"),$("#updateTalkAttachWrap"),$("input[name=chk-update-notice-talk]"),$("#btnSubmitUpdateTalk"),$("#modalAttach"),$("#modalAttachContentWrap"),$("#doitTable"),$("#ucdTable"),$("#selPageLengthDoit"),$("#selPageLengthUcd"),$("#bizNo"),$("#bizWeb"),$("#description")),b=($("#btnSupportDoit"),$("#btnSupportLeader"),$("#targetUrl"),$("#targetPageType"),$("#targetUuid"),$("#historyTable"),$("#previewTitle"),$("#previewTable"),$("#curationTitle"),$("#noticeTitle"),$("#contentImageWrap"),$("#isTop"),$("#selFaqType"),$("#faqType"),$("#faqTitle"),$("#selInquiryType"),$("#inquiryTitle"),$("#attachmentWrap"),$("#answerEl"),$("#memoEl"),$("#admin"),$("#answerDate"),$("#actionsWrap")),f=($("#modalWarning"),$("#modalReason"),$("#reasonTable"),$("input[name=radio-report]"),$("#isBlind"),$("#isDel"),$("#talkCreated"),$("#likeCount"),$("#commentCount"),$("#talkAttachWrap"),$("input[name=radio-reserve-type]"),$("#reserveTime"),$("input[name=radio-target-page-type]"),$("#targetPage"),$("input[name=radio-receive-type]"),$("input[name=radio-category]"),$("input[name=radio-icon-type]"),$("input[name=radio-target-member-type]"),$("#modalTargetPage"),$("#modalTargetMember"),$("#btnModalTargetMemberOpen"),$("#memberTable"),$("#popupTitle"),$("input[name=radio-view-option]"),$("#startTime"),$("#endTime"),$("#viewOption"),$("#selEventType"),$("#eventType"),$("#eventTitle"),$("#eventNotice"),$("#eventDate"),$("#thumbnailImage"),$("#eventContentThumbnail"),$("#eventThumbnail"),$("#price"),$("#selHour"),$("#selMinute"),$("#btnSendGeneral"),$("#btnSendGift"),$("#modalGift"),$("#modalGeneral"),$("#generalMemo"),$("#btnSubmitGift"),$("#btnSubmitGeneral"),$("#giftUuid"),$("#giftName"),$("#totalUcd"),$("#btnSubmitMemo"),$("input[name=radio-manual]"),$("#selectGiftName"),$("#goodsCode"),$("#ktImageUrl"),$("#discontinuedDate"),$("#giftType"),$("#modalDetailContent"),$("#modalCancel"),$("#selAuthType"),$("#selBiz"),$("#auth"),$("#name"),$("#isApproval"),$("#bizName"),$("#authWrap"),$("#authCode"),$("#authName"),$("#btnSubmitAuth"),$("#menuWrap"),$("#isStore")),h=$("#hiddenProfileId"),y=$("#profileId"),v=$("#userNickname"),T=$("#contact"),k=$("#leaveDate"),L=$("#balance"),w=$("#isAuth"),S=$("#levelInfoWrap"),D=$("#levelHistoryWrap"),C=$("#ulLevelTab"),x=$("#userLevel"),_=$("#openedDoitCount"),M=$("#openedDoitAction"),U=$("#levelTable"),A=$("#btnLevelWrap"),W=$("#btnModalUcd"),P=$("#modalUcd"),B=$("#deviceInfoTableBody"),I=$("#openedDoitWrap"),N=$("#openedDoitTable"),F=$("#joinedDoitWrap"),R=$("#joinedDoitTable"),O=$("#categoryWrap"),E=$("#ucdInfoTable"),q=$("#ulDoitTab"),z=$("#modalActionDetail"),j=$("#modalActionContentWrap"),G=$("#modalActionDesc"),J=$("#modalActionWarningReason"),H=$("#modalActionExampleWrap"),K=$("#modalActionExampleDesc"),X=($("#countLevel1"),$("#countLevel2"),$("#countLevel3"),$("#countLevel4"),$("#countLevel5"),$("#countLevel6"),$("#modalLevelUp")),Q=$("#levelUpReason"),V=($("#selType"),$("#qualification"),$("#difficulty"),$("input[name=radio-open]"),$("#badgeTitle"),$("#badgeType"),$("#isOpen"),$("#popupImage"),$("#popupThumbnail"),$("#lottieType"),$("#inputString"),$("#resultString"),$("#btnEncryption"),$("#btnDecryption"),$("#keywordWrap"),$("#promotionDate"),$("#createDate")),Y=($("#promotionStatus"),$("#dateFromSummary"),$("#dateToSummary"),$("#dateFromSummaryList"),$("#dateToSummaryList"),$("#btnRefreshMission"),$("#btnRefreshCategory"),{Authorization:btoa(JSON.stringify({authorization:"9c3a60d74726c4e1cc0732fd280c89dbf80a344e7c3dc2c4ad4fdf12b97e52c7",userid:t.val()}))});function Z(t,e,a){return new Promise(((n,i)=>{$.ajax({global:t,url:e,type:"POST",headers:Y,contentType:"text/plain",dataType:"json",data:a,success:function(t){n(t)},error:function(t,e,a){i(a)},complete:function(t,e){}})}))}function tt(t){let e=t.msg,a=t.status;return[30034,30035,30308].indexOf(a)>-1&&(e=`선택한 이미지 사이즈는 ${t.data.width} x ${t.data.height} 입니다.\n                 ${t.msg}`),e}function et(t){return 0===function(t){return t.status}(t)}function at(t){return t.msg}const nt=`${api_server_url}/v3/`,it={saveUserUcdFromXlsx:nt+"ucd/set/charge/user/system/excel",saveUserUcdBySystem:nt+"ucd/set/charge/user/system",saveUserUcdByBiz:nt+"ucd/set/charge/user/company",saveDoitUcdBySystem:nt+"ucd/set/charge/doit/system",saveDoitUcdByBiz:nt+"ucd/set/charge/doit/company",saveBizUcd:nt+"ucd/set/charge/company/system",dashboardSummary:nt+"main/dashboard",dashboardSummaryList:nt+"main/dashboard/get/list",dashboardMoreLeader:nt+"main/dashboard/get/leaderRanklist",dashboardMoreDoit:nt+"main/dashboard/get/doitRanklist",getProfile:nt+"admin/get",updatePassword:nt+"admin/update/pwd",memberList:nt+"profile/get/list",detailMember:nt+"profile/get/detail/info",levelUp:nt+"profile/set/levelUp",levelDown:nt+"profile/set/levelDown",cancelPartner:nt+"profile/set/releasePartner",levelInfo:nt+"profile/get/level",levelHistory:nt+"profile/get/level/history",deviceInfo:nt+"profile/get/device/info",memberDoitList:nt+"profile/get/doit",memberCategoryList:nt+"profile/get/category",memberActionList:nt+"profile/get/action",memberActionDetail:nt+"profile/get/detail/action",countPerLevel:nt+"level/get/count",memberLevelList:nt+"level/get/list",unlinkMemberList:nt+"profile/get/unlink",changedMemberList:nt+"profile/get/changed",badgeList:nt+"badge/get/list",createBadge:nt+"badge/create",detailBadge:nt+"badge/get/detail/info",deleteBadge:nt+"badge/delete",updateBadge:nt+"badge/update",categoryList:nt+"category/list",createCategory:nt+"category/create",detailCategory:nt+"category/detail",reorderCategory:nt+"category/update/sequence",deleteCategory:nt+"category/delete",updateCategory:nt+"category/update",subCategoryList:nt+"subcategory/list",createSubCategory:nt+"subcategory/create",updateSubCategoryDoitImg:nt+"subcategory/set/doit/image",deleteSubCategory:nt+"subcategory/delete",reorderSubCategory:nt+"subcategory/update/sequence",editSubCategory:nt+"subcategory/update",keywordList:nt+"keyword/get/list",createKeyword:nt+"keyword/create",updateKeyword:nt+"keyword/update",doitSponsorList:nt+"doit/get/company",doitList:nt+"doit/list",doitSetRecommend:nt+"doit/set/recommend",createDoit:nt+"doit/create",createDoitCategoryList:nt+"category/exposure/list",detailDoit:nt+"doit/detail",updateDoit:nt+"doit/update",deleteDoit:nt+"doit/delete",openDoit:nt+"doit/set/open",stopDoit:nt+"doit/set/stop",getDoitUcd:nt+"ucd/get/doit",getUcdDoitList:nt+"ucd/get/doit/list",missionList:nt+"mission/get/list",createMission:nt+"mission/create",detailMission:nt+"mission/get/detail/info",updateMission:nt+"mission/update",deleteMission:nt+"mission/delete",joinMemberList:nt+"member/get/list",infoJoinMember:nt+"member/get/profile",rewardMemberList:nt+"ucd/get/reward/profile",createReward:nt+"ucd/set/reward/profile",countMember:nt+"member/get/count",blockMember:nt+"member/set/retire/ban",banMember:nt+"member/set/retire",applyMemberList:nt+"member/get/applylist",approvalMember:nt+"member/get/applyConfirm",rejectMember:nt+"member/get/applyReject",blockMemberList:nt+"member/get/retire/ban/list",cancelBlockMember:nt+"member/set/retire/ban/cancel",lankMember:nt+"doit/get/member/rank",actionList:nt+"action/get/list",detailAction:nt+"action/get/detail/info",sendWarning:nt+"action/set/yellow",cancelWarning:nt+"action/set/yellowCancel",actionCommentList:nt+"action/get/commentList",createActionComment:nt+"action/set/insertComment",deleteActionComment:nt+"action/set/deleteComment",actionReplyList:nt+"action/get/comment/child/list",talkList:nt+"board/get/list",createTalk:nt+"board/create",detailTalk:nt+"board/get/detail/info",updateTalk:nt+"board/update",deleteTalk:nt+"board/delete",talkCommentList:nt+"board/get/commentList",createTalkComment:nt+"board/set/insertComment",deleteTalkComment:nt+"board/set/deleteComment",talkReplyList:nt+"board/get/comment/child/list",pickList:nt+"recommend/list",previewList:nt+"recommend/get/doit",searchDoitList:nt+"recommend/get/doit/list",reorderPick:nt+"recommend/set",createPick:nt+"recommend/create",updatePick:nt+"recommend/update",detailPick:nt+"recommend/detail",bizList:nt+"biz/get/list",createBiz:nt+"biz/create",detailBiz:nt+"biz/get/detail/info",bizDoitList:nt+"biz/get/detail/doit",bizUcdList:nt+"ucd/list/get/company",updateBiz:nt+"biz/update",getBizUcd:nt+"ucd/get/company",noticeList:nt+"notice/get/list",createNotice:nt+"notice/create",detailNotice:nt+"notice/get/detail/info",updateNotice:nt+"notice/update",deleteNotice:nt+"notice/delete",faqType:nt+"faq/get/type",faqList:nt+"faq/get/list",createFaq:nt+"faq/create",detailFaq:nt+"faq/get/detail/info",updateFaq:nt+"faq/update",deleteFaq:nt+"faq/delete",reorderFaq:nt+"faq/set/orders",inquiryList:nt+"qna/get/list",updateInquiry:nt+"qna/set/insertComment",detailInquiry:nt+"qna/get/detail/info",deleteInquiry:nt+"qna/delete",reportActionList:nt+"report/get/action/list",actionReportReasonList:nt+"report/get/action/descriptionList",reportTalkList:nt+"report/get/board/list",talkReportReasonList:nt+"report/get/board/descriptionList",blindTalk:nt+"report/set/blind",bannerList:nt+"banner/get/list",createBanner:nt+"banner/create",detailBanner:nt+"banner/get/detail/info",updateBanner:nt+"banner/update",reorderBanner:nt+"banner/set/orders",targetEventList:nt+"banner/get/event/list",targetDoitList:nt+"banner/get/doit/list",targetNoticeList:nt+"banner/get/notice/list",storyList:nt+"story/get/list",createStory:nt+"story/create",detailStory:nt+"story/get/detail/info",updateStory:nt+"story/update",reorderStory:nt+"story/set/orders",eventList:nt+"event/get/list",createEvent:nt+"event/create",detailEvent:nt+"event/get/detail/info",deleteEvent:nt+"event/delete",updateEvent:nt+"event/update",customEvent:nt+"event/popup/get/list",customEventProfile:nt+"event/popup/get/profile",pushList:nt+"push/list",cancelPush:nt+"push/set/cancel",createPush:nt+"push/create",pushTargetNotice:nt+"push/get/notice",pushTargetEvent:nt+"push/get/event",pushTargetDoit:nt+"push/get/doit",pushTargetMember:nt+"push/get/profile",pushTargetMemberFromXlsx:nt+"excel/import/notification/profile",popupList:nt+"popup/get/list",createPopup:nt+"popup/create",detailPopup:nt+"popup/get/detail/info",updatePopup:nt+"popup/update",deletePopup:nt+"popup/delete",errorList:nt+"error/list",updateError:nt+"error/update",createEncryption:nt+"operate/set/encryption",createDecryption:nt+"operate/set/decryption",versionList:nt+"operate/get/version/list",createVersion:nt+"operate/version/create",deleteVersion:nt+"operate/version/delete",logList:nt+"log/get/list",getMemberForSaveUcd:nt+"ucd/get/user/list",getMemberFromXlsx:nt+"excel/import/profile",getDoitFromXlsx:nt+"excel/import/doit",ucdChargeList:nt+"ucd/list/get/charge",systemWalletType:nt+"ucd/get/system/type",systemWalletList:nt+"ucd/list/get/system",doitWalletList:nt+"ucd/list/get/doit",memberWalletList:nt+"ucd/list/get/user",pendingWalletList:nt+"ucd/list/get/transfer",giftList:nt+"gift/get/list",reorderGiftList:nt+"gift/get/orderList",reorderGift:nt+"gift/set/orders",createGift:nt+"gift/create",ktGoodsList:nt+"gift/get/kt/goods",detailGift:nt+"gift/get/detail/info",updateGift:nt+"gift/update",applyGiftList:nt+"exchange/get/list",sendGifticon:nt+"exchange/set/confirm",sendGeneralGift:nt+"exchange/set/send",rejectGift:nt+"exchange/set/reject",resendGift:nt+"exchange/set/resend",getGiftBalance:nt+"exchange/get/money",sendGiftList:nt+"exchange/get/sendList",sendGiftStatusList:nt+"exchange/get/payment",updateGiftSendMemo:nt+"exchange/set/insertMemo",adminList:nt+"admin/list",detailAdmin:nt+"admin/detail",updateAdmin:nt+"admin/update",deleteAdmin:nt+"admin/delete",authBizList:nt+"auth/get/biz/list",approvalAdmin:nt+"admin/approval",authList:nt+"auth/list",getMenuWithAuth:nt+"auth/get/menu",setMenuWithAuth:nt+"auth/set/menu",createAuth:nt+"auth/create",deleteAuth:nt+"auth/delete",promotionList:nt+"promotion/get/list",createPromotion:nt+"promotion/create",detailPromotion:nt+"promotion/get/detail",updatePromotion:nt+"promotion/update",closePromotion:nt+"promotion/set/end",promotionDoitList:nt+"promotion/get/doit/list",promotionProceedList:nt+"promotion/get/proceed/list",setDoitPromotion:nt+"promotion/set/doit",cancelDoitPromotion:nt+"promotion/set/release"},ot="-",rt="image",st="video",lt="audio",ct='<i class="fas fa-angle-double-left"></i>',dt='<i class="fas fa-angle-double-right"></i>',ut="/assets/v2/img/voice.jpg",pt=Swal.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}});function mt(t){pt.fire({icon:"info",title:t})}function $t(t,e){Swal.fire({toast:!0,position:"center",icon:et(t)?"success":"error",title:tt(t),showConfirmButton:!1,timer:1500}).then((a=>{a.isDismissed&&et(t)&&e()}))}function gt(t){Swal.fire({icon:"error",html:t})}function bt(t,e){Swal.fire({text:t,showCancelButton:!0,confirmButtonText:"확인",cancelButtonText:"취소"}).then((t=>{t.value&&e()}))}const ft="목록이 없습니다.",ht="/v2/member";function yt(){c.fadeOut(),d.fadeOut(),$("body").css("overflow-y","auto")}function vt(){$("body").css("overflow-y","hidden")}function Tt(){$("img").on("error",(function(){$(this).attr("src","/assets/v2/img/no-image.jpg")}))}function kt(t){$(t).closest(".dataTables_wrapper").find(".dataTables_paginate").toggle(t.api().page.info().pages>0)}function Lt(t){return null==t||t.hasOwnProperty("length")&&0===t.length||t.constructor===Object&&0===Object.keys(t).length||t.constructor===String&&""===t.trim()}function wt(t){return Lt(t)||isNaN(t)?0:t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function St(t){return/^[0-9]*$/g.test(t)}const Dt=Lt(h.val())?sessionStorage.getItem("pid"):h.val();function Ct(){const t={profile_uuid:Dt};Z(!0,it.detailMember,JSON.stringify(t)).then((async function(t,e,a){et(t)?function(t){const{profile_uuid:e,nickname:a,phone:n,email:i,joined:o,deactived:r,is_auth:s,ucd:l}=t.data;y.text(e),T.text(n),v.text(a),u.text(i),V.text(o),k.text(Lt(r)?ot:r),L.text(wt(l)),w.text(s)}(t):mt(at(t))})).catch((t=>gt("기본정보을(를) 불러올 수 없습니다.")))}function xt(){const t={profile_uuid:Dt};Z(!1,it.levelInfo,JSON.stringify(t)).then((async function(t,e,a){et(t)?function(t){const{level_name:e,level:a,total_doit_action_count:n,create_doit_count:i,action_count:o}=t.data;(function(t){let e="";switch(t){case"1":case"2":case"3":e='<button id="btnPartner" type="button" class="btn-sm btn-outline-secondary"><i class="fas fa-star"></i> Lv.파트너 설정</button>';break;case"4":e='<button id="btnPartner" type="button" class="btn-sm btn-outline-secondary"><i class="fas fa-star"></i> Lv.파트너 설정</button>\n\t\t\t\t\t\t\t<button id="btnLevelUp" type="button" class="btn-sm btn-outline-warning"><i class="fas fa-level-up-alt"></i> Lv.레전드로 승급</button>';break;case"5":e='<button id="btnPartner" type="button" class="btn-sm btn-outline-secondary"><i class="fas fa-star"></i> Lv.파트너 설정</button>\n\t\t\t\t\t\t\t<button id="btnLevelDown" type="button" class="btn-sm btn-outline-orange"><i class="fas fa-level-down-alt"></i> Lv.마스터로 강등</button>';break;case"6":e='<button id="btnCancel" type="button" class="btn-sm btn-outline-orange"><i class="fas fa-level-down-alt"></i> Lv.파트너 해제</button>'}A.html(e),$("#btnLevelWrap button").on("click",(function(){Rt(this)}))})(a),x.text(e),m.text(wt(o)),_.text(wt(i)),M.text(wt(n))}(t):mt(at(t))})).catch((t=>gt("레벨정보을(를) 불러올 수 없습니다.")))}function _t(){N.DataTable({ajax:{url:it.memberDoitList,type:"POST",headers:Y,global:!1,dataFilter:function(t){let e=JSON.parse(t);return et(e)?(e.recordsTotal=e.count,e.recordsFiltered=e.count):(e.data=[],mt(at(e))),JSON.stringify(e)},data:function(t){const e={doit_type:"leader",profile_uuid:Dt,limit:t.length,page:t.start/t.length+1};return JSON.stringify(e)},error:function(t,e){gt("두잇개설 목록을(를) 불러올 수 없습니다.")}},columns:[{title:"두잇명",data:"doit_title",width:"35%"},{title:"참여 인원",data:"member_cnt",width:"10%",render:function(t){return wt(t)}},{title:"오픈일",data:"opened",width:"15%",render:function(t,e,a,n){return t.substring(0,10)}},{title:"상태",data:"doit_status",width:"10%",render:function(t){switch(t){case"create":return"생성";case"open":return"진행중";case"stop":return"운영정지";case"delete":return"삭제"}}}],serverSide:!0,paging:!0,pageLength:10,select:!1,destroy:!0,initComplete:function(){},fnRowCallback:function(t,e){},drawCallback:function(t){kt(this)}})}f.val()&&sessionStorage.setItem("pid",Dt.toString()),$((()=>{$.extend(!0,$.fn.dataTable.defaults,{ordering:!1,order:[],info:!1,processing:!1,lengthChange:!1,autoWidth:!1,searching:!1,fixedHeader:!1,language:{emptyTable:ft,zeroRecords:ft,processing:"검색 중..",paginate:{previous:ct,next:dt}}}),$("[data-moveto]").on("click",(function(t){const e=$(this).data("moveto"),a=$("#"+e).offset().top;$("html, body").stop().animate({scrollTop:a-180},300),t.preventDefault(),t.stopPropagation()})),Ct(),xt(),function(){const t={profile_uuid:Dt};Z(!0,it.deviceInfo,JSON.stringify(t)).then((async function(t,e,a){et(t)?function(t){if(!Lt(t.data)&&t.data.length>0){let e="";t.data.map((t=>{const{device:a,client_id:n,device_token:i,created:o}=t;e+=`<tr>\n\t\t\t\t\t\t<td>${a}</td>\n\t\t\t\t\t\t<td>${n}</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<div><input type="text" class="input-copy" style="width: 150px" value="${i}" readonly=""><i class="fas fa-copy"></i></div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>${o}</td>\n\t\t\t\t\t</tr>`})),B.html(e),$(".fas.fa-copy").on("click",(function(){$(this).siblings("input.input-copy").trigger("select"),document.execCommand("copy"),mt("클립보드에 복사 됨.")}))}}(t):mt(at(t))})).catch((t=>gt("기기정보을(를) 불러올 수 없습니다.")))}(),function(){const t={profile_uuid:Dt};Z(!0,it.memberCategoryList,JSON.stringify(t)).then((async function(t,e,a){et(t)?function(t){if(!Lt(t.data)&&t.data.length>0){let e="";t.data.map((t=>{const{category_title:a,subcategory_info:n}=t;let i="";!Lt(n)&&n.length>0&&n.map((t=>{i+=`<li>#<span>${t.subcategory_title}</span></li>`})),e+=`<tr>\n\t\t\t\t\t\t<th>${a}</th>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<ul class="tag-list clearfix">\n\t\t\t\t\t\t\t\t${i}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>`})),O.html(e)}else O.parent().hide(),O.parent().after('<div class="card"><p class="message">관심 카테고리가 없습니다.</p></div>')}(t):mt(at(t))})).catch((t=>gt("관심카테고리을(를) 불러올 수 없습니다.")))}(),_t(),Bt(),It(),o.on("propertychange change keyup paste input",(function(){!function(t){let e=$(t).val().split(""),a=e.length,n="";for(let t=0;t<a;t++)0!=e[0]&&St(e[0])||(e[0]=""),St(e[t])&&(n+=e[t]);$(t).val(n)}(this)})),s.on("propertychange change keyup paste input",(function(){!function(t){let e=$(t).val().length,a=$(t).prop("maxLength");e>a&&a>0&&($(t).val($(t).val().slice(0,a)),e=a),$(t).next().find(".count-input").text(e)}(this)})),W.on("click",(function(){P.fadeIn(),d.fadeIn(),vt(),o.trigger("focus"),o.val(""),g.val(""),r.val("")})),l.on("click",(function(){yt()})),d.on("click",(function(){yt()})),n.on("click",(function(){history.back()})),a.on("click",(function(){location.href=ht})),q.on("click",(function(t){!function(t){const e=$(t.target),a=$(e).data("target");switch(a){case"#openedDoitWrap":_t();break;case"#joinedDoitWrap":R.DataTable({ajax:{url:it.memberDoitList,type:"POST",headers:Y,global:!1,dataFilter:function(t){let e=JSON.parse(t);return et(e)?(e.recordsTotal=e.count,e.recordsFiltered=e.count):(e.data=[],mt(at(e))),JSON.stringify(e)},data:function(t){const e={doit_type:"member",profile_uuid:Dt,limit:t.length,page:t.start/t.length+1};return JSON.stringify(e)},error:function(t,e){gt("두잇참여 목록 을(를) 불러올 수 없습니다.")}},columns:[{title:"두잇명",data:"doit_title",width:"35%"},{title:"상태",data:"doit_status",width:"10%",render:function(t){switch(t){case"create":return"생성";case"open":return"진행중";case"stop":return"운영정지";case"delete":return"삭제"}}}],serverSide:!0,paging:!0,pageLength:10,select:!1,destroy:!0,initComplete:function(){},fnRowCallback:function(t,e){},drawCallback:function(t){kt(this)}})}e.siblings().removeClass("active"),e.addClass("active"),I.hide(),F.hide(),$(a).show()}(t)})),C.on("click",(function(t){!function(t){const e=$(t.target),a=$(e).data("target");switch(a){case"#levelInfoWrap":xt();break;case"#levelHistoryWrap":!function(){const t={profile_uuid:Dt};Z(!1,it.levelHistory,JSON.stringify(t)).then((async function(t,e,a){et(t)?function(t){U.DataTable({data:t.data,columns:[{title:"레벨명",data:"level_name",width:"20%"},{title:"담당자",data:"reason",width:"20%",render:function(t){return Lt(t)?ot:t.split("||")[0]}},{title:"사유",data:"reason",width:"40%",render:function(t){return Lt(t)?ot:t.split("||")[1]}},{title:"설정일시",data:"created",width:"20%"}],serverSide:!1,paging:!0,pageLength:10,select:!1,destroy:!0,initComplete:function(){},fnRowCallback:function(t,e){},drawCallback:function(t){}})}(t):mt(at(t))})).catch((t=>gt("레벨 변경 내역을 을(를) 불러올 수 없습니다.")))}()}e.siblings().removeClass("active"),e.addClass("active"),S.hide(),D.hide(),$(a).show()}(t)})),p.on("click",(function(){(Lt(o.val())?(mt("UCD는 필수항목입니다."),o.trigger("focus"),0):Number(o.val())>1e6?(mt("최대 1백만 UCD까지 가능합니다."),o.trigger("focus"),0):!Lt(g.val())||(mt("내용은 필수항목입니다."),g.trigger("focus"),0))&&bt("등록하시겠습니까?",Nt)})),e.on("click",(function(){Lt(Q.val())?mt("사유는 필수항목입니다."):bt(Et(Wt),Ot)}))}));let Mt,Ut,At,Wt,Pt=1;function Bt(){const t={limit:30,page:Pt,profile_uuid:Dt};Z(!0,it.memberActionList,JSON.stringify(t)).then((async function(t,e,a){await function(t){et(t)?(function(t){let e='<div class="card"><p class="message">인증 정보가 없습니다.</p></div>';!Lt(t.data)&&t.data.length>0&&(e="",t.data.map(((t,a)=>{const{action_uuid:n,like_count:i,comment_count:o,report_count:r,doit_title:s,nickname:l,action_date:c,is_yellow:d,contents_type:u,contents_url:p,thumbnail_url:m}=t;let $;u===rt?$=p:u===lt?$=ut:u===st&&($=m),0!==a&&a%6!=0||(e+='<div class="row">'),e+=`<div class="col-2 auth-item">\n\t\t\t\t\t\t<div class="card">\n\t\t\t\t\t\t\t<div class="top clearfix">\n\t\t\t\t\t\t\t\t<div class="right-wrap">\n\t\t\t\t\t\t\t\t\t<span><i class="fas fa-heart"></i> ${i}</span>\n\t\t\t\t\t\t\t\t\t<span><i class="fas fa-comment"></i> ${o}</span>\n\t\t\t\t\t\t\t\t\t<span><i class="fas fa-exclamation-triangle"></i> ${r}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="img-wrap action-image-wrap" data-uuid="${n}">\n\t\t\t\t\t\t\t\t<img src="${$}" alt="">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p class="title">${s}</p>\n\t\t\t\t\t\t\t<span class="nick-name">${l}</span>\n\t\t\t\t\t\t\t<span class="date">${c}</span>\n\t\t\t\t\t\t\t${"Y"===d?'<strong class="red-card"><img src="/assets/v2/img/red-card.png" alt=""></strong>':""}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`,a>0&&(a+1)%6==0&&(e+="</div>")}))),b.html(e),Tt(),$(".action-image-wrap").on("click",(function(){Mt=$(this).data("uuid"),z.fadeIn(),d.fadeIn(),vt(),function(){const t={action_uuid:Mt};Z(!0,it.memberActionDetail,JSON.stringify(t)).then((async function(t,e,a){et(t)?function(t){const{action_contents_type:e,action_contents_url:a,action_description:n,example_contents_type:i,example_contents_url:o,example_description:r,is_yellow:s,yellow_reason:l}=t.data;let c="";switch(e){case rt:c=`<div class="img-wrap"><img src="${a}" alt=""></div>`;break;case st:c=`<div class="video-wrap"><video controls><source src="${a}"/></video></div>`;break;case lt:c=`<div class="audio-wrap"><img src="/assets/v2/img/voice.jpg" alt=""><audio controls><source src="${a}"/></audio></div>`}let d="";switch(i){case rt:d=`<div class="img-wrap"><img src="${o}" alt=""></div>`;break;case st:d=`<div class="video-wrap"><video controls><source src="${o}"/></video></div>`;break;case lt:d=`<div class="audio-wrap"><img src="/assets/v2/img/voice.jpg" alt=""><audio controls><source src="${o}"/></audio></div>`}j.html(c),G.text(n),J.text("Y"===s?l:ot),H.html(d),K.text(r),Tt()}(t):mt(at(t))})).catch((t=>gt("인증 정보을(를) 불러올 수 없습니다.")))}()}))}(t),function(t){const e=t.count,a=Math.ceil(e/30);i.html(function(t,e){let a,n,i,o="";if(o+=1===t?`<a class="paginate_button previous disabled" id="dataTable_previous">${ct}</a><span>`:`<a class="paginate_button previous" data-page="${t-1}" id="dataTable_previous">${ct}</a><span>`,e<=7)for(a=1;a<=e;a++)n=e>1&&t===a?"current":"",o+=`<a class="paginate_button ${n}" data-page="${a}">${a}</a>`;else if(t<5)for(a=1;a<=7;a++)n=e>1&&t===a?"current":"",i=7===a?e:a,o+=6===a?'<span class="ellipsis">…</span>':`<a class="paginate_button ${n}" data-page="${i}">${i}</a>`;else if(t>=5&&t<=e-4)for(a=1;a<=e;a++)1===a&&(o+=`<a class="paginate_button" data-page="${a}">${a}</a>\n\t\t\t\t\t\t\t<span class="ellipsis">…</span>`),t===a&&(o+=`<a class="paginate_button" data-page="${a-1}">${a-1}</a>\n\t\t\t\t\t\t\t<a class="paginate_button current" data-page="${a}">${a}</a>\n\t\t\t\t\t\t\t<a class="paginate_button" data-page="${a+1}">${a+1}</a>`),e===a&&(o+=`<span class="ellipsis">…</span>\n\t\t\t\t\t\t\t<a class="paginate_button" data-page="${e}">${e}</a>`);else if(t>e-4)for(a=1;a<=7;a++)n=t===e-(7-a)?"current":"",i=a>=3?e-(7-a):a,o+=2===a?'<span class="ellipsis">…</span>':`<a class="paginate_button ${n}" data-page="${i}">${i}</a>`;return o+=e===t||0===Number(e)?`</span><a class="paginate_button next disabled" id="dataTable_next">${dt}</a>`:`</span><a class="paginate_button next" data-page="${t+1}" id="dataTable_next">${dt}</a>`,o}(Pt,a)),$(".paginate_button").not(".disabled").on("click",(function(){var t;t=this,$(t).siblings().removeClass("current"),$(t).addClass("current"),Pt=$(t).data("page"),Bt()}))}(t)):mt(t.msg)}(t)})).catch((t=>gt("인증 정보을(를) 불러올 수 없습니다.")))}function It(){E.DataTable({ajax:{url:it.memberWalletList,type:"POST",headers:Y,dataFilter:function(t){let e=JSON.parse(t);return et(e)?(e.recordsTotal=e.data.count,e.recordsFiltered=e.data.count,e.data=e.data.list):(e.data=[],mt(at(t))),JSON.stringify(e)},data:function(t){const e={from_date:"",to_date:"",search_type:"profile_uuid",keyword:Dt,page:t.start/t.length+1,limit:t.length};return JSON.stringify(e)},error:function(t,e){gt("UCD목록을(를) 불러올 수 없습니다.")}},columns:[{title:"구분",data:"division",width:"10%"},{title:"제목",data:"title",width:"15%"},{title:"내용",data:"description",width:"40%",render:function(t,e,a,n){return Lt(t)?ot:t}},{title:"UCD",data:"value",width:"10%",render:function(t,e,a,n){return wt(t)}},{title:"일시",data:"created",width:"15%"}],serverSide:!0,paging:!0,pageLength:30,select:!1,destroy:!0,initComplete:function(){},fnRowCallback:function(t,e){var a;a=e.value,-1===Math.sign(a)&&$(t).addClass("minus-pay")},drawCallback:function(t){kt(this)}})}function Nt(){const t={profile_uuid:[Dt],value:o.val().trim(),description:g.val().trim()};Z(!0,it.saveUserUcdBySystem,JSON.stringify(t)).then((async function(t,e,a){await $t(t,Ft)})).catch((t=>gt("등록 처리 중, 오류가 발생했습니다.")))}function Ft(){yt(),Ct(),It()}function Rt(t){Wt=t.id,Ut=function(t){switch(t){case"btnLevelUp":return it.levelUp;case"btnLevelDown":return it.levelDown;case"btnCancel":return it.cancelPartner;default:return it.levelUp}}(Wt),At=function(t){switch(t){case"btnPartner":return 6;case"btnLevelUp":return 5;case"btnLevelDown":return 4;case"btnCancel":return""}}(Wt),"btnPartner"===Wt||"btnLevelUp"===Wt?(X.fadeIn(),d.fadeIn(),Q.val(""),Q.trigger("focus")):bt(Et(Wt),Ot)}function Ot(){const t={profile_uuid:Dt};Lt(At)||(t.level=At),Number(At)>=5&&(t.reason=Q.val().trim()),Z(!0,Ut,JSON.stringify(t)).then((async function(t,e,a){yt(),await $t(t,xt)})).catch((t=>gt("레벨 처리 중, 오류가 발생했습니다.")))}function Et(t){switch(t){case"btnLevelUp":return"확인을 누르면 레전드로 승급합니다.";case"btnLevelDown":return"확인을 누르면 마스터로 강등합니다.";case"btnCancel":return"확인을 누르면 파트너 등급을 해제합니다.";default:return"확인을 누르면 파트너 등급으로 설정합니다."}}})();