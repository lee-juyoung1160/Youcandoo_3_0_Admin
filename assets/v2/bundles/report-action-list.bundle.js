(()=>{"use strict";const e=$("body"),t=($("section"),$(".search-wrap select")),a=($("img"),$(".side-toggle-btn"),$("aside.main-menu"),$("#mainMenu"),$("#sessionUserid")),n=($("#sessionUserIp"),$("#sessionAuthCode"),$("#sessionDeptName"),$("#sessionBizIdx"),$("#env"),$("#loader"),$("#btnScrollTop"),$("#btnXlsxImport"),$("#btnXlsxExport"),$(".date-btn .btn")),i=$(".datepicker"),o=$(".date-from"),s=$(".date-to"),r=$("#selDateType"),l=($("#selSearchType"),$("input[name=chk-type]"),$("input[name=chk-status]")),c=($("input[name=radio-type]"),$("input[name=radio-status]"),$("#keyword"),$("#btnSearch")),d=$("#btnReset"),p=($("#btnSubmit"),$("#btnCancel")),m=($("#btnClose"),$("#btnCreate"),$("#btnUpdate"),$("#btnSubmitUpdate"),$("#btnDelete"),$("#btnAdd"),$("#btnList"),$("#btnBack"),$("#checkTypeWrap"),$("#selPageLength")),u=($("#selSort"),$("#dataTable"),$("#dataTable_paginate")),g=($("#totalCount"),$("#thumbnail"),$("#amount"),$("#nickname"),$("#memo"),$("#title"),$("#content"),$("#contentImage"),$("#reserveDate"),$("input[name=radio-os-type]"),$("#osType"),$("#version"),$("#isExposure"),$("input[name=radio-exposure]"),$("#exposureDate"),$("#link"),$("#deviceInfo"),$(".length-input"),$(".only-num"),$("#selStartHour"),$("#selStartMinute"),$("#selEndHour"),$("#selEndMinute"),$(".modal-btn")),b=$(".modal-close"),f=$(".modal-content"),h=$(".modal-bg"),y=$("#modalDetail"),v=($("#modalUpdate"),$("#modalCreate"),$("#modalImage"),$("#userid"),$("#password"),$("#passwordCheck"),$("#passwordCheckTxt"),$("#useremail"),$("#username"),$("#imgUrl"),$("#qrImg"),$("#otpNum"),$("#secret"),$("#type"),$("#btnLogin"),$("#btnJoin"),$("#btnSignIn"),$("#updateTable"),$("#categoryTitle"),$("#categoryIcon"),$("#isEstablish"),$("input[name=create-attachment]"),$("input[name=attachment]"),$(".icon-delete-attach"),$("#subCategoryTitle"),$("#modalSubcategory"),$("#modalDoitImage"),$("#modalDoitImageTitle"),$("#btnSubmitImage"),$("#doitUuid"),$("#sponsor"),$(".doit-sponsor"),$("#sponsorUuid"),$("#selCategory"),$("#selSubcategory"),$("#doitTitle"),$("#doitKeyword"),$("#infoMaxUserCount"),$("#maxUserCount"),$("#doitDesc"),$("input[name=radio-public-type]"),$("input[name=chk-is-apply]"),$("input[name=chk-is-answer]"),$("input[name=chk-is-question]"),$("#doitQuestion"),$("#doitImage"),$("#doitKeywords"),$("#btnDoitOpen"),$("#btnDoitDelete"),$("#btnDoitStop"),$("#promotionInfo"),$("#modalPromotion"),$("#promotionTable"),$("#btnPromotion"),$("#btnPromotionCancel"),$("#tabUl"),$(".tab-contents"),$("#category"),$("#publicType"),$("#isApply"),$("#isAnswer"),$("#doitInfoForm"),$("#doitUpdateForm"),$("#infoDoitTitle"),$("#infoDoitDesc"),$("#infoDoitKeywords"),$("#infoQuestion"),$(".doit-image"),$("#btnAddKeyword"),$("#btnSubmitUpdateDoit"),$("#btnUpdateDoit"),$(".btn-doit-list"),$(".btn-mission-list"),$("#btnBackToMissionDetail"),$("#btnCreateMission"),$("#btnSubmitMission"),$("#btnUpdateMission"),$("#btnSubmitUpdateMission"),$("#btnDeleteMission"),$("#missionListForm"),$("#missionDetailForm"),$("#missionCreateForm"),$("#missionUpdateForm"),$("#missionTable"),$("#missionTitle"),$("#missionStartDate"),$("#missionEndDate"),$("input[name=chk-permanent]"),$("input[name=radio-action-type]"),$("#actionExampleWrap"),$("input[name=chk-gallery-allowed]"),$("#actionExampleDesc"),$("#promise"),$("#updateMissionTitle"),$("#updateMissionStartDate"),$("#updateMissionEndDate"),$("input[name=chk-update-permanent]"),$("#selUpdateStartHour"),$("#selUpdateStartMinute"),$("#selUpdateEndHour"),$("#selUpdateEndMinute"),$("input[name=radio-update-action-type]"),$("input[name=chk-update-gallery-allowed]"),$("#updateExampleWrap"),$("#updateActionExampleDesc"),$("#updatePromise"),$("#infoMissionTitle"),$("#infoMissionDate"),$("#infoMissionTime"),$("#infoActionType"),$("#infoActionExampleWrap"),$("#infoActionExampleDesc"),$("#infoPromise"),$("#joinMemberForm"),$("#pendingMemberForm"),$(".btn-join-members"),$("#btnPendingMembers"),$("#applyMemberCountWrap"),$("#totalMemberCount"),$(".apply-member-count"),$(".ban-member-count"),$("#selMissions"),$("#selMemberFilter"),$("input[name=radio-action-count]"),$("#actionCount"),$("#selJoinMemberPageLength"),$("#selApplyMemberPageLength"),$("#selBlockMemberPageLength"),$("#btnSaveUcd"),$("#btnSendNotice"),$("#applyQuestion"),$("#joinMemberTable"),$("#btnApproval"),$("#btnReject"),$("#applyMemberTable"),$("#modalSaveUcd"),$("#saveUcdContent"),$("#selRewardType"),$("#rewardKeyword"),$("#rewardTableWrap"),$("#rewardMemberTable"),$("#actionTimes"),$("#btnSubmitSaveUcd"),$("#modalSendNotice"),$("#notiContent"),$("#selNotiType"),$("#notiKeyword"),$("#notiTableWrap"),$("#notiTable"),$("#btnSubmitNoti"),$("#modalMemberInfo"),$("#modalMemberInfoNickname"),$("#modalMemberInfoJoinDate"),$("#modalMemberInfoQuestion"),$("#modalMemberInfoAnswer"),$("#btnBlockMembers"),$("#blockMemberForm"),$("#btnBan"),$("#btnSubmitBan"),$("#btnCancelBlock"),$("#blockMemberTable"),$("#modalBan"),$("input[name=chk-block]"),$("#banReasonWrap"),$("input[name=radio-reason]"),$("#banReason"),$("#searchTab li"),$("#ongoingRankTable"),$("#totalRankTable"),$("#btnRefreshTotalRank"),$("#btnRefreshOngoingRank"),$("#ucdListForm"),$("#publicWalletBalance"),$("#btnSaveUcdWallet"),$("#searchUcdDateFrom"),$("#searchUcdDateTo"),$("#ucdKeyword"),$("#btnSearchUcd"),$("#btnResetSearchUcd"),$("#selUcdPageLength"),$("#modalSaveUcdWallet"),$("#saveWalletAmount"),$("#saveWalletDesc"),$("#btnSubmitSaveDoitUcd"),$("#btnBackActionList"),$("#actionListForm"),$("#totalActionCount")),k=($("#selActionPageLength"),$("#selActionDateType"),$("#searchActionDateFrom"),$("#searchActionDateTo"),$("#selActionMissions"),$("input[name=chk-action-status]"),$("#btnSearchAction"),$("#btnResetSearchAction"),$("#btnPullAction"),$("#btnSendWarnings"),$("#btnSendWarning")),T=($("#actionDetailForm"),$("#actionNickname"),$("#actionCreated"),$("#actionLikeCount"),$("#actionCommentCount"),$("#actionContentWrap"),$("#actionDesc"),$("#warningReason"),$("#actionCommentWrap"),$("#createCommentWrap"),$("#commentAction"),$("#btnSubmitCommentAction"),$("#selReason")),D=($("#btnSubmitSendWarning"),$("#btnCreateTalk"),$("#modalCreateTalk"),$("#report"),$("input[name=radio-attach-type]"),$("#talkAttachmentWrap"),$("input[name=chk-notice-report]"),$("#btnSubmitTalk"),$("#talkListForm"),$("#talkDetailForm"),$("#talkUpdateForm"),$("#searchTalkDateFrom"),$("#searchTalkDateTo"),$("#selTalkDateType"),$("#selTalkPageLength"),$("#btnSearchTalk"),$("#btnResetSearchTalk"),$("#talkTable"),$("#btnBackToTalkList"),$("#btnBackToTalkDetail"),$("#btnBlindTalk"),$("#btnDisplayTalk"),$("#btnDeleteTalk"),$("#btnUpdateTalk"),$("#infoTalkNickname"),$("#infoTalkIsBlind"),$("#infoTalkCreated"),$("#infoTalkLikeCount"),$("#infoTalkCommentCount"),$("#infoTalkContent"),$("#infoTalkAttachWrap"),$("#talkCommentWrap"),$("#createTalkCommentWrap"),$("#commentTalk"),$("#btnSubmitCommentTalk"),$("#updateTalk"),$("input[name=radio-update-attach-type]"),$("#updateTalkAttachWrap"),$("input[name=chk-update-notice-report]"),$("#btnSubmitUpdateTalk"),$("#modalAttach"),$("#modalAttachContentWrap"),$("#doitTable"),$("#ucdTable"),$("#selPageLengthDoit"),$("#selPageLengthUcd"),$("#bizNo"),$("#bizWeb"),$("#description"),$("#btnSupportDoit"),$("#btnSupportLeader"),$("#targetUrl"),$("#targetPageType"),$("#targetUuid"),$("#historyTable"),$("#previewTitle"),$("#previewTable"),$("#curationTitle"),$("#noticeTitle"),$("#contentImageWrap"),$("#isTop"),$("#selFaqType"),$("#faqType"),$("#faqTitle"),$("#selInquiryType"),$("#inquiryTitle"),$("#attachmentWrap"),$("#answerEl"),$("#memoEl"),$("#admin"),$("#answerDate"),$("#actionsWrap")),L=$("#modalWarning"),S=$("#modalReason"),w=$("#reasonTable"),C=($("input[name=radio-report]"),$("#isBlind"),$("#isDel"),$("#talkCreated"),$("#likeCount"),$("#commentCount"),$("#talkAttachWrap"),$("input[name=radio-reserve-type]"),$("#reserveTime"),$("input[name=radio-target-page-type]"),$("#targetPage"),$("input[name=radio-receive-type]"),$("input[name=radio-category]"),$("input[name=radio-icon-type]"),$("input[name=radio-target-member-type]"),$("#modalTargetPage"),$("#modalTargetMember"),$("#btnModalTargetMemberOpen"),$("#memberTable"),$("#popupTitle"),$("input[name=radio-view-option]"),$("#startTime"),$("#endTime"),$("#viewOption"),$("#selEventType"),$("#eventType"),$("#eventTitle"),$("#eventNotice"),$("#eventDate"),$("#thumbnailImage"),$("#eventContentThumbnail"),$("#eventThumbnail"),$("#price"),$("#selHour"),$("#selMinute"),$("#btnSendGeneral"),$("#btnSendGift"),$("#modalGift"),$("#modalGeneral"),$("#generalMemo"),$("#btnSubmitGift"),$("#btnSubmitGeneral"),$("#giftUuid"),$("#giftName"),$("#totalUcd"),$("#btnSubmitMemo"),$("input[name=radio-manual]"),$("#selectGiftName"),$("#goodsCode"),$("#ktImageUrl"),$("#discontinuedDate"),$("#giftType"),$("#modalDetailContent"),$("#modalCancel"),$("#selAuthType"),$("#selBiz"),$("#auth"),$("#name"),$("#isApproval"),$("#bizName"),$("#authWrap"),$("#authCode"),$("#authName"),$("#btnSubmitAuth"),$("#menuWrap"),$("#isStore"),$("#hiddenProfileId"),$("#profileId"),$("#userNickname"),$("#contact"),$("#leaveDate"),$("#balance"),$("#isAuth"),$("#levelInfoWrap"),$("#levelHistoryWrap"),$("#ulLevelTab"),$("#userLevel"),$("#openedDoitCount"),$("#openedDoitAction"),$("#levelTable"),$("#btnLevelWrap"),$("#btnModalUcd"),$("#modalUcd"),$("#deviceInfoTableBody"),$("#openedDoitWrap"),$("#openedDoitTable"),$("#joinedDoitWrap"),$("#joinedDoitTable"),$("#categoryWrap"),$("#ucdInfoTable"),$("#ulDoitTab"),$("#modalActionDetail"),$("#modalActionContentWrap")),M=$("#modalActionDesc"),x=$("#modalActionWarningReason"),_=$("#modalActionExampleWrap"),U=$("#modalActionExampleDesc"),A=($("#countLevel1"),$("#countLevel2"),$("#countLevel3"),$("#countLevel4"),$("#countLevel5"),$("#countLevel6"),$("#modalLevelUp"),$("#levelUpReason"),$("#selType"),$("#qualification"),$("#difficulty"),$("input[name=radio-open]"),$("#badgeTitle"),$("#badgeType"),$("#isOpen"),$("#popupImage"),$("#popupThumbnail"),$("#lottieType"),$("#inputString"),$("#resultString"),$("#btnEncryption"),$("#btnDecryption"),$("#keywordWrap"),$("#promotionDate"),$("#createDate"),$("#promotionStatus"),$("#dateFromSummary"),$("#dateToSummary"),$("#dateFromSummaryList"),$("#dateToSummaryList"),$("#btnRefreshMission"),$("#btnRefreshCategory"),{Authorization:btoa(JSON.stringify({authorization:"9c3a60d74726c4e1cc0732fd280c89dbf80a344e7c3dc2c4ad4fdf12b97e52c7",userid:a.val()}))});function I(e,t,a){return new Promise(((n,i)=>{$.ajax({global:e,url:t,type:"POST",headers:A,contentType:"text/plain",dataType:"json",data:a,success:function(e){n(e)},error:function(e,t,a){i(a)},complete:function(e,t){}})}))}function W(e){let t=e.msg,a=e.status;return[30034,30035,30308].indexOf(a)>-1&&(t=`선택한 이미지 사이즈는 ${e.data.width} x ${e.data.height} 입니다.\n                 ${e.msg}`),t}function P(e){return 0===function(e){return e.status}(e)}function B(e){return e.msg}const N=`${api_server_url}/v3/`,F={saveUserUcdFromXlsx:N+"ucd/set/charge/user/system/excel",saveUserUcdBySystem:N+"ucd/set/charge/user/system",saveUserUcdByBiz:N+"ucd/set/charge/user/company",saveDoitUcdFromXlsx:N+"ucd/set/charge/doit/system/excel",saveDoitUcdBySystem:N+"ucd/set/charge/doit/system",saveDoitUcdByBiz:N+"ucd/set/charge/doit/company",saveBizUcd:N+"ucd/set/charge/company/system",dashboardSummary:N+"main/dashboard",dashboardSummaryList:N+"main/dashboard/get/list",dashboardMoreLeader:N+"main/dashboard/get/leaderRanklist",dashboardMoreDoit:N+"main/dashboard/get/doitRanklist",getProfile:N+"admin/get",updatePassword:N+"admin/update/pwd",memberList:N+"profile/get/list",detailMember:N+"profile/get/detail/info",levelUp:N+"profile/set/levelUp",levelDown:N+"profile/set/levelDown",cancelPartner:N+"profile/set/releasePartner",levelInfo:N+"profile/get/level",levelHistory:N+"profile/get/level/history",deviceInfo:N+"profile/get/device/info",memberDoitList:N+"profile/get/doit",memberCategoryList:N+"profile/get/category",memberActionList:N+"profile/get/action",memberActionDetail:N+"profile/get/detail/action",countPerLevel:N+"level/get/count",memberLevelList:N+"level/get/list",unlinkMemberList:N+"profile/get/unlink",changedMemberList:N+"profile/get/changed",badgeList:N+"badge/get/list",createBadge:N+"badge/create",detailBadge:N+"badge/get/detail/info",deleteBadge:N+"badge/delete",updateBadge:N+"badge/update",categoryList:N+"category/list",createCategory:N+"category/create",detailCategory:N+"category/detail",reorderCategory:N+"category/update/sequence",deleteCategory:N+"category/delete",updateCategory:N+"category/update",subCategoryList:N+"subcategory/list",createSubCategory:N+"subcategory/create",updateSubCategoryDoitImg:N+"subcategory/set/doit/image",deleteSubCategory:N+"subcategory/delete",reorderSubCategory:N+"subcategory/update/sequence",editSubCategory:N+"subcategory/update",keywordList:N+"keyword/get/list",createKeyword:N+"keyword/create",updateKeyword:N+"keyword/update",doitSponsorList:N+"doit/get/company",doitList:N+"doit/list",doitSetRecommend:N+"doit/set/recommend",createDoit:N+"doit/create",createDoitCategoryList:N+"category/exposure/list",detailDoit:N+"doit/detail",updateDoit:N+"doit/update",deleteDoit:N+"doit/delete",openDoit:N+"doit/set/open",stopDoit:N+"doit/set/stop",getDoitUcd:N+"ucd/get/doit",getUcdDoitList:N+"ucd/get/doit/list",missionList:N+"mission/get/list",createMission:N+"mission/create",detailMission:N+"mission/get/detail/info",updateMission:N+"mission/update",deleteMission:N+"mission/delete",joinMemberList:N+"member/get/list",infoJoinMember:N+"member/get/profile",rewardMemberList:N+"ucd/get/reward/profile",createReward:N+"ucd/set/reward/profile",countMember:N+"member/get/count",blockMember:N+"member/set/retire/ban",banMember:N+"member/set/retire",applyMemberList:N+"member/get/applylist",approvalMember:N+"member/get/applyConfirm",rejectMember:N+"member/get/applyReject",blockMemberList:N+"member/get/retire/ban/list",cancelBlockMember:N+"member/set/retire/ban/cancel",lankMember:N+"doit/get/member/rank",actionList:N+"action/get/list",detailAction:N+"action/get/detail/info",sendWarning:N+"action/set/yellow",cancelWarning:N+"action/set/yellowCancel",actionCommentList:N+"action/get/commentList",createActionComment:N+"action/set/insertComment",deleteActionComment:N+"action/set/deleteComment",actionReplyList:N+"action/get/comment/child/list",talkList:N+"board/get/list",createTalk:N+"board/create",detailTalk:N+"board/get/detail/info",updateTalk:N+"board/update",deleteTalk:N+"board/delete",talkCommentList:N+"board/get/commentList",createTalkComment:N+"board/set/insertComment",deleteTalkComment:N+"board/set/deleteComment",talkReplyList:N+"board/get/comment/child/list",pickList:N+"recommend/list",previewList:N+"recommend/get/doit",searchDoitList:N+"recommend/get/doit/list",reorderPick:N+"recommend/set",createPick:N+"recommend/create",updatePick:N+"recommend/update",detailPick:N+"recommend/detail",bizList:N+"biz/get/list",createBiz:N+"biz/create",detailBiz:N+"biz/get/detail/info",bizDoitList:N+"biz/get/detail/doit",bizUcdList:N+"ucd/list/get/company",updateBiz:N+"biz/update",getBizUcd:N+"ucd/get/company",noticeList:N+"notice/get/list",createNotice:N+"notice/create",detailNotice:N+"notice/get/detail/info",updateNotice:N+"notice/update",deleteNotice:N+"notice/delete",faqType:N+"faq/get/type",faqList:N+"faq/get/list",createFaq:N+"faq/create",detailFaq:N+"faq/get/detail/info",updateFaq:N+"faq/update",deleteFaq:N+"faq/delete",reorderFaq:N+"faq/set/orders",inquiryList:N+"qna/get/list",updateInquiry:N+"qna/set/insertComment",detailInquiry:N+"qna/get/detail/info",deleteInquiry:N+"qna/delete",reportActionList:N+"report/get/action/list",actionReportReasonList:N+"report/get/action/descriptionList",reportTalkList:N+"report/get/board/list",talkReportReasonList:N+"report/get/board/descriptionList",blindTalk:N+"report/set/blind",bannerList:N+"banner/get/list",createBanner:N+"banner/create",detailBanner:N+"banner/get/detail/info",updateBanner:N+"banner/update",reorderBanner:N+"banner/set/orders",targetEventList:N+"banner/get/event/list",targetDoitList:N+"banner/get/doit/list",targetNoticeList:N+"banner/get/notice/list",storyList:N+"story/get/list",createStory:N+"story/create",detailStory:N+"story/get/detail/info",updateStory:N+"story/update",reorderStory:N+"story/set/orders",eventList:N+"event/get/list",createEvent:N+"event/create",detailEvent:N+"event/get/detail/info",deleteEvent:N+"event/delete",updateEvent:N+"event/update",customEvent:N+"event/popup/get/list",customEventProfile:N+"event/popup/get/profile",pushList:N+"push/list",cancelPush:N+"push/set/cancel",createPush:N+"push/create",pushTargetNotice:N+"push/get/notice",pushTargetEvent:N+"push/get/event",pushTargetDoit:N+"push/get/doit",pushTargetMember:N+"push/get/profile",pushTargetMemberFromXlsx:N+"excel/import/notification/profile",popupList:N+"popup/get/list",createPopup:N+"popup/create",detailPopup:N+"popup/get/detail/info",updatePopup:N+"popup/update",deletePopup:N+"popup/delete",errorList:N+"error/list",updateError:N+"error/update",createEncryption:N+"operate/set/encryption",createDecryption:N+"operate/set/decryption",versionList:N+"operate/get/version/list",createVersion:N+"operate/version/create",deleteVersion:N+"operate/version/delete",logList:N+"log/get/list",getMemberForSaveUcd:N+"ucd/get/user/list",getMemberFromXlsx:N+"excel/import/profile",getDoitFromXlsx:N+"excel/import/doit",ucdChargeList:N+"ucd/list/get/charge",systemWalletType:N+"ucd/get/system/type",systemWalletList:N+"ucd/list/get/system",doitWalletList:N+"ucd/list/get/doit",memberWalletList:N+"ucd/list/get/user",pendingWalletList:N+"ucd/list/get/transfer",giftList:N+"gift/get/list",reorderGiftList:N+"gift/get/orderList",reorderGift:N+"gift/set/orders",createGift:N+"gift/create",ktGoodsList:N+"gift/get/kt/goods",detailGift:N+"gift/get/detail/info",updateGift:N+"gift/update",applyGiftList:N+"exchange/get/list",sendGifticon:N+"exchange/set/confirm",sendGeneralGift:N+"exchange/set/send",rejectGift:N+"exchange/set/reject",resendGift:N+"exchange/set/resend",getGiftBalance:N+"exchange/get/money",sendGiftList:N+"exchange/get/sendList",sendGiftStatusList:N+"exchange/get/payment",updateGiftSendMemo:N+"exchange/set/insertMemo",adminList:N+"admin/list",detailAdmin:N+"admin/detail",updateAdmin:N+"admin/update",deleteAdmin:N+"admin/delete",authBizList:N+"auth/get/biz/list",approvalAdmin:N+"admin/approval",authList:N+"auth/list",getMenuWithAuth:N+"auth/get/menu",setMenuWithAuth:N+"auth/set/menu",createAuth:N+"auth/create",deleteAuth:N+"auth/delete",promotionList:N+"promotion/get/list",createPromotion:N+"promotion/create",detailPromotion:N+"promotion/get/detail",updatePromotion:N+"promotion/update",closePromotion:N+"promotion/set/end",promotionDoitList:N+"promotion/get/doit/list",promotionProceedList:N+"promotion/get/proceed/list",setDoitPromotion:N+"promotion/set/doit",cancelDoitPromotion:N+"promotion/set/release"},q={list:"목록",submit:"등록",modify:"수정",delete:"삭제",cancel:"취소",confirm:"확인",approval:"승인",pending:"대기",progress:"진행",end:"마감",terminate:"종료",success:"성공",fail:"실패",send:"발송",reserve:"예약",public:"공개",private:"비공개",y:"Y",n:"N",dash:"-",tilde:"~",slash:"/",pendingIcon:'<i class="far fa-calendar"></i>',progressIcon:'<i class="far fa-calendar-check"></i>',endIcon:'<i class="far fa-calendar-times" style="color:#aaa"></i>',terminateIcon:'<i class="fas fa-calendar-times" style="color:#aaa"></i>',exposure:'<i class="fas fa-check-circle" style="color:#007aff"></i>',unexpose:'<i class="fas fa-check-circle" style="color:#aaa"></i>',blind:'<i class="fas fa-eye-slash"></i>',unblind:'<i class="fas fa-eye"></i>',bizIcon:'<img src="/assets/v2/img/icon_sponsor.png" class="icon-sponsor" alt="">',generalDoit:"일반 두잇",general:"일반",notice:"공지",personal:"개인",member:"회원",guest:"비회원",doit:"두잇",profile:"사용자",charge:"충전",levelup:"레벨업",join:"신규가입",biz:"기업",imageKor:"사진",videoKor:"영상",audioKor:"음성",image:"image",video:"video",audio:"audio",detailContent:"상세 내용",download:"다운로드",average:"평균",gifticon:"기프티콘",gift:"일반상품",previous:'<i class="fas fa-angle-double-left"></i>',next:'<i class="fas fa-angle-double-right"></i>',memo:'<i class="fas fa-thumbtack"></i>',fixedTop:'<i class="fas fas fa-bell"></i>',noImage:"/assets/v2/img/no-image.jpg",voiceImage:"/assets/v2/img/voice.jpg",redCardImage:"/assets/v2/img/red-card.png",yellowCardImage:"/assets/v2/img/yellow-card.png",redYellowCardImage:"/assets/v2/img/rad-yellow-card.png",monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayNames:["일","월","화","수","목","금","토"],maxDownLoadXlsxCount:3e4},R=Swal.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}});function E(e){R.fire({icon:"info",title:e})}function z(e,t){Swal.fire({toast:!0,position:"center",icon:P(e)?"success":"error",title:W(e),showConfirmButton:!1,timer:1500}).then((a=>{a.isDismissed&&P(e)&&t()}))}function G(e){Swal.fire({icon:"error",html:e})}function O(e,t){Swal.fire({text:e,showCancelButton:!0,confirmButtonText:q.confirm,cancelButtonText:q.cancel}).then((e=>{e.value&&t()}))}const j="목록이 없습니다.",J="검색 중..",K="취소하시겠습니까?",H="발송하시겠습니까?",X="선택해주세요.",Y=" 처리 중, 오류가 발생했습니다.",Q="을(를) 불러올 수 없습니다.",V="최소 하나 이상의 값을 선택해야 합니다.";function Z(e){return Number(e)<10?e.toString().padStart(2,"0"):e}function ee(e){return null==e||e.hasOwnProperty("length")&&0===e.length||e.constructor===Object&&0===Object.keys(e).length||e.constructor===String&&""===e.trim()}function te(){f.fadeOut(),h.fadeOut(),$("body").css("overflow-y","auto")}function ae(){$("body").css("overflow-y","hidden")}function ne(e){const t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate();return`${t}-${Z(a)}-${Z(n)}`}function ie(){return ne(new Date)}function oe(){i.val(ie())}function se(){n.removeClass("active")}function re(){$("img").on("error",(function(){$(this).attr("src",q.noImage)}))}let le,ce,de=1;function pe(){se(),i.datepicker("option","minDate","2020-07-01"),i.datepicker("option","maxDate","today"),oe(),t.each((function(){$(this).children().eq(0).prop("selected",!0)})),l.eq(0).prop("checked",!0),l.eq(1).prop("checked",!1),l.eq(2).prop("checked",!1)}function $e(){de=1,me()}function me(){let e=[];l.each((function(){$(this).is(":checked")&&e.push($(this).val())}));const t={limit:m.val(),page:de,date_type:r.val(),from_date:o.val(),to_date:s.val(),action_status:e};I(!0,F.reportActionList,JSON.stringify(t)).then((async function(e,t,a){P(e)?function(e){var t;v.text(ee(t=e.count)||isNaN(t)?0:t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),function(e){let t='<div class="card"><p class="message">인증 정보가 없습니다.</p></div>';!ee(e.data)&&e.count>0&&(t="",e.data.map(((e,a)=>{const{action_date:n,action_uuid:i,contents_type:o,contents_url:s,doit_title:r,nickname:l,report_count:c,thumbnail_url:d,is_yellow:p}=e,$="Y"===p,m=$?`<strong class="red-card"><img src="${q.redCardImage}" alt=""></strong>`:"",u=$?"disabled":"",g=Number(c)>0?`<a class="link report-count" data-uuid="${i}">${c}</a>`:c;let b;o===q.image?b=s:o===q.audio?b=q.voiceImage:o===q.video&&(b=d),0!==a&&a%6!=0||(t+='<div class="row">'),t+=`<div class="col-2 auth-item">\n\t\t\t\t\t\t<div class="card">\n\t\t\t\t\t\t\t<div class="top clearfix">\n\t\t\t\t\t\t\t\t<div class="checkbox-wrap">\n\t\t\t\t\t\t\t\t\t<input id="action_${a}" type="checkbox" name="chk-action" data-uuid="${i}" ${u}>\n\t\t\t\t\t\t\t\t\t<label for="action_${a}"><span></span></label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="right-wrap">\n\t\t\t\t\t\t\t\t\t<span><i class="fas fa-exclamation-triangle"></i> ${g}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="img-wrap action-content" data-uuid="${i}">\n\t\t\t\t\t\t\t\t<img src="${b}" alt="">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p class="title">${r}</p>\n\t\t\t\t\t\t\t<span class="nick-name">${l}</span>\n\t\t\t\t\t\t\t<span class="date">${n}</span>\n\t\t\t\t\t\t\t${m}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`,a>0&&(a+1)%6==0&&(t+="</div>")}))),D.html(t),re(),$(".action-content").on("click",(function(){le=$(this).data("uuid"),y.fadeIn(),h.fadeIn(),ae(),function(){const e={action_uuid:le};I(!1,F.memberActionDetail,JSON.stringify(e)).then((async function(e,t,a){P(e)?function(e){const{action_contents_type:t,action_contents_url:a,action_description:n,example_contents_type:i,example_contents_url:o,example_description:s,is_yellow:r,yellow_reason:l}=e.data;let c=`<button type="button" class="btn-xs btn-outline-success btn-download" data-url="${a}"><i class="fas fa-download"></i> 인증 다운로드</button>`;switch(t){case q.image:c+=`<div class="img-wrap"><img src="${a}" alt=""></div>`;break;case q.video:c+=`<div class="video-wrap"><video controls><source src="${a}"/></video></div>`;break;case q.audio:c+=`<div class="audio-wrap"><img src="${q.voiceImage}" alt=""><audio controls><source src="${a}"/></audio></div>`}let d="";switch(i){case q.image:d=`<div class="img-wrap"><img src="${o}" alt=""></div>`;break;case q.video:d=`<div class="video-wrap"><video controls><source src="${o}"/></video></div>`;break;case q.audio:d=`<div class="audio-wrap"><img src="${q.voiceImage}" alt=""><audio controls><source src="${o}"/></audio></div>`}C.html(c),M.text(n);const m="Y"===r;m?p.show():p.hide(),x.text(m?l:q.dash),_.html(d),U.text(s),re(),$(".btn-download").on("click",(function(){download($(this).data("url"))}))}(e):E(B(e))})).catch((e=>G(`인증 정보${Q}`)))}()})),$(".report-count").on("click",(function(){ce=$(this).data("uuid"),S.fadeIn(),h.fadeIn(),ae(),w.DataTable({ajax:{url:F.actionReportReasonList,type:"POST",headers:A,global:!1,dataFilter:function(e){let t=JSON.parse(e);return P(t)?(t.recordsTotal=t.count,t.recordsFiltered=t.count):(t.data=[],E(B(t))),JSON.stringify(t)},data:function(e){const t={action_uuid:ce};return JSON.stringify(t)},error:function(e,t){G(q.list+Q)}},columns:[{title:"일자",data:"created",width:"25%"},{title:"사유",data:"report_description",width:"75%"}],serverSide:!0,paging:!1,select:!1,scrollY:450,scrollCollapse:!0,destroy:!0})}))}(e),function(e){const t=e.count,a=Math.ceil(t/m.val());u.html(function(e,t){let a,n,i,o="";if(o+=1===e?`<a class="paginate_button btn_paginate previous disabled" id="dataTable_previous">${q.previous}</a><span>`:`<a class="paginate_button btn_paginate previous" data-page="${e-1}" id="dataTable_previous">${q.previous}</a><span>`,t<=7)for(a=1;a<=t;a++)n=t>1&&e===a?"current":"",o+=`<a class="paginate_button btn_paginate ${n}" data-page="${a}">${a}</a>`;else if(e<5)for(a=1;a<=7;a++)n=t>1&&e===a?"current":"",i=7===a?t:a,o+=6===a?'<span class="ellipsis">…</span>':`<a class="paginate_button btn_paginate ${n}" data-page="${i}">${i}</a>`;else if(e>=5&&e<=t-4)for(a=1;a<=t;a++)1===a&&(o+=`<a class="paginate_button btn_paginate" data-page="${a}">${a}</a>\n\t\t\t\t\t\t\t<span class="ellipsis">…</span>`),e===a&&(o+=`<a class="paginate_button btn_paginate" data-page="${a-1}">${a-1}</a>\n\t\t\t\t\t\t\t<a class="paginate_button btn_paginate current" data-page="${a}">${a}</a>\n\t\t\t\t\t\t\t<a class="paginate_button btn_paginate" data-page="${a+1}">${a+1}</a>`),t===a&&(o+=`<span class="ellipsis">…</span>\n\t\t\t\t\t\t\t<a class="paginate_button btn_paginate" data-page="${t}">${t}</a>`);else if(e>t-4)for(a=1;a<=7;a++)n=e===t-(7-a)?"current":"",i=a>=3?t-(7-a):a,o+=2===a?'<span class="ellipsis">…</span>':`<a class="paginate_button btn_paginate ${n}" data-page="${i}">${i}</a>`;return o+=t===e||0===Number(t)?`</span><a class="paginate_button btn_paginate next disabled" id="dataTable_next">${q.next}</a>`:`</span><a class="paginate_button btn_paginate next" data-page="${e+1}" id="dataTable_next">${q.next}</a>`,o}(de,a)),$(".btn_paginate").not(".disabled").on("click",(function(){var e;e=this,$(e).siblings().removeClass("current"),$(e).addClass("current"),de=$(e).data("page"),me()}))}(e)}(e):E(B(e))})).catch((e=>G(q.list+Q)))}function ue(){const e={action_uuid:[le]};I(!0,F.cancelWarning,JSON.stringify(e)).then((async function(e,t,a){await z(e,be)})).catch((e=>G(`경고장 발송 취소 ${Y}`)))}function ge(){let e=[];$("input[name=chk-action]:checked").each((function(){e.push($(this).data("uuid"))}));const t={action_uuid:e,reason:T.val()};I(!0,F.sendWarning,JSON.stringify(t)).then((async function(e,t,a){await z(e,be)})).catch((e=>G(Q)))}function be(){te(),me()}$((()=>{$.extend(!0,$.fn.dataTable.defaults,{ordering:!1,order:[],info:!1,processing:!1,lengthChange:!1,autoWidth:!1,searching:!1,fixedHeader:!1,language:{emptyTable:j,zeroRecords:j,processing:J,paginate:{previous:q.previous,next:q.next}}}),i.datepicker({dateFormat:"yy-mm-dd",changeYear:!0,showMonthAfterYear:!0,monthNames:q.monthNames,dayNames:q.dayNames,dayNamesMin:q.dayNames}),m.html('<option value="10">10개씩 보기</ooption>\n            <option selected value="30">30개씩 보기</ooption>\n            <option value="50">50개씩 보기</ooption>\n            <option value="100">100개씩 보기</ooption>\n            <option value="500">500개씩 보기</ooption>\n            <option value="1000">1000개씩 보기</ooption>'),pe(),me(),e.on("keydown",(function(e){!function(e){13===e.keyCode&&$e()}(e)})),o.on("change",(function(){s.datepicker("option","minDate",new Date(o.datepicker("getDate"))),se()})),s.on("change",(function(){o.datepicker("option","maxDate",new Date(s.datepicker("getDate"))),se()})),g.on("click",(function(){(0!==$("input[name=chk-action]:checked").length||(E(`발송대상을 ${X}`),0))&&(L.fadeIn(),h.fadeIn(),ae())})),b.on("click",(function(){te()})),h.on("click",(function(){te()})),m.on("change",(function(){$e()})),c.on("click",(function(){$e()})),d.on("click",(function(){pe()})),n.on("click",(function(){var e;e=this,se(),$(e).addClass("active"),$(e).hasClass("today")?oe():$(e).hasClass("week")?(o.val(function(){const e=new Date;return e.setDate(e.getDate()-6),ne(e)}()),s.val(ie())):$(e).hasClass("month")?(o.val(function(){const e=new Date;return e.setMonth(e.getMonth()-1),ne(e)}()),s.val(ie())):$(e).hasClass("months")?(o.val(function(){const e=new Date;return e.setMonth(e.getMonth()-3),ne(e)}()),s.val(ie())):(o.val("2020-07-01"),s.val(ie()))})),l.on("click",(function(){0===$("input[name='"+this.name+"']:checked").length&&(E(V),$(this).prop("checked",!0))})),p.on("click",(function(){O(K,ue)})),k.on("click",(function(){O(`경고장을 ${H}`,ge)}))}))})();