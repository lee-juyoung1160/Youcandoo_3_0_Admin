(()=>{"use strict";$("body"),$("section"),$(".search-wrap select"),$("img"),$(".side-toggle-btn"),$("aside.main-menu"),$("#mainMenu");const t=$("#sessionUserid"),e=($("#sessionUserIp"),$("#sessionAuthCode"),$("#sessionDeptName"),$("#sessionBizIdx"),$("#env"),$("#loader"),$("#btnScrollTop"),$("#btnXlsxImport"),$("#btnXlsxExport"),$(".date-btn .btn"),$(".datepicker"),$(".date-from"),$(".date-to"),$("#selDateType"),$("#selSearchType"),$("input[name=chk-type]"),$("input[name=chk-status]"),$("input[name=radio-type]"),$("input[name=radio-status]"),$("#keyword"),$("#btnSearch"),$("#btnReset"),$("#btnSubmit")),a=($("#btnCancel"),$("#btnClose"),$("#btnCreate"),$("#btnUpdate"),$("#btnSubmitUpdate"),$("#btnDelete"),$("#btnAdd"),$("#btnList")),n=$("#btnBack"),i=($("#checkTypeWrap"),$("#selPageLength"),$("#selSort"),$("#dataTable"),$("#dataTable_paginate")),o=($("#totalCount"),$("#thumbnail"),$("#amount")),r=($("#nickname"),$("#memo")),s=($("#title"),$("#content"),$("#contentImage"),$("#reserveDate"),$("input[name=radio-os-type]"),$("#osType"),$("#version"),$("#isExposure"),$("input[name=radio-exposure]"),$("#exposureDate"),$("#link"),$("#deviceInfo"),$(".length-input")),l=($(".only-num"),$("#selStartHour"),$("#selStartMinute"),$("#selEndHour"),$("#selEndMinute"),$(".modal-btn"),$(".modal-close")),c=$(".modal-content"),d=$(".modal-bg"),u=($("#modalDetail"),$("#modalUpdate"),$("#modalCreate"),$("#modalImage"),$("#userid"),$("#password"),$("#passwordCheck"),$("#passwordCheckTxt"),$("#useremail")),p=($("#username"),$("#imgUrl"),$("#qrImg"),$("#otpNum"),$("#secret"),$("#type"),$("#btnLogin"),$("#btnJoin"),$("#btnSignIn"),$("#updateTable"),$("#categoryTitle"),$("#categoryIcon"),$("#isEstablish"),$("input[name=create-attachment]"),$("input[name=attachment]"),$(".icon-delete-attach"),$("#subCategoryTitle"),$("#modalSubcategory"),$("#modalDoitImage"),$("#modalDoitImageTitle"),$("#btnSubmitImage"),$("#doitUuid"),$("#sponsor"),$(".doit-sponsor"),$("#sponsorUuid"),$("#selCategory"),$("#selSubcategory"),$("#doitTitle"),$("#doitKeyword"),$("#infoMaxUserCount"),$("#maxUserCount"),$("#doitDesc"),$("input[name=radio-public-type]"),$("input[name=chk-is-apply]"),$("input[name=chk-is-answer]"),$("input[name=chk-is-question]"),$("#doitQuestion"),$("#doitImage"),$("#doitKeywords"),$("#btnDoitOpen"),$("#btnDoitDelete"),$("#btnDoitStop"),$("#promotionInfo"),$("#modalPromotion"),$("#promotionTable"),$("#btnPromotion"),$("#btnPromotionCancel"),$("#tabUl"),$(".tab-contents"),$("#category"),$("#publicType"),$("#isApply"),$("#isAnswer"),$("#doitInfoForm"),$("#doitUpdateForm"),$("#infoDoitTitle"),$("#infoDoitDesc"),$("#infoDoitKeywords"),$("#infoQuestion"),$(".doit-image"),$("#btnAddKeyword"),$("#btnSubmitUpdateDoit"),$("#btnUpdateDoit"),$(".btn-doit-list"),$(".btn-mission-list"),$("#btnBackToMissionDetail"),$("#btnCreateMission"),$("#btnSubmitMission"),$("#btnUpdateMission"),$("#btnSubmitUpdateMission"),$("#btnDeleteMission"),$("#missionListForm"),$("#missionDetailForm"),$("#missionCreateForm"),$("#missionUpdateForm"),$("#missionTable"),$("#missionTitle"),$("#missionStartDate"),$("#missionEndDate"),$("input[name=chk-permanent]"),$("input[name=radio-action-type]"),$("#actionExampleWrap"),$("input[name=chk-gallery-allowed]"),$("#actionExampleDesc"),$("#promise"),$("#updateMissionTitle"),$("#updateMissionStartDate"),$("#updateMissionEndDate"),$("input[name=chk-update-permanent]"),$("#selUpdateStartHour"),$("#selUpdateStartMinute"),$("#selUpdateEndHour"),$("#selUpdateEndMinute"),$("input[name=radio-update-action-type]"),$("input[name=chk-update-gallery-allowed]"),$("#updateExampleWrap"),$("#updateActionExampleDesc"),$("#updatePromise"),$("#infoMissionTitle"),$("#infoMissionDate"),$("#infoMissionTime"),$("#infoActionType"),$("#infoActionExampleWrap"),$("#infoActionExampleDesc"),$("#infoPromise"),$("#joinMemberForm"),$("#pendingMemberForm"),$(".btn-join-members"),$("#btnPendingMembers"),$("#applyMemberCountWrap"),$("#totalMemberCount"),$(".apply-member-count"),$(".ban-member-count"),$("#selMissions"),$("#selMemberFilter"),$("input[name=radio-action-count]"),$("#actionCount"),$("#selJoinMemberPageLength"),$("#selApplyMemberPageLength"),$("#selBlockMemberPageLength"),$("#btnSaveUcd"),$("#btnSendNotice"),$("#applyQuestion"),$("#joinMemberTable"),$("#btnApproval"),$("#btnReject"),$("#applyMemberTable"),$("#modalSaveUcd"),$("#saveUcdContent"),$("#selRewardType"),$("#rewardKeyword"),$("#rewardTableWrap"),$("#rewardMemberTable"),$("#actionTimes"),$("#btnSubmitSaveUcd")),m=($("#modalSendNotice"),$("#notiContent"),$("#selNotiType"),$("#notiKeyword"),$("#notiTableWrap"),$("#notiTable"),$("#btnSubmitNoti"),$("#modalMemberInfo"),$("#modalMemberInfoNickname"),$("#modalMemberInfoJoinDate"),$("#modalMemberInfoQuestion"),$("#modalMemberInfoAnswer"),$("#btnBlockMembers"),$("#blockMemberForm"),$("#btnBan"),$("#btnSubmitBan"),$("#btnCancelBlock"),$("#blockMemberTable"),$("#modalBan"),$("input[name=chk-block]"),$("#banReasonWrap"),$("input[name=radio-reason]"),$("#banReason"),$("#searchTab li"),$("#ongoingRankTable"),$("#totalRankTable"),$("#btnRefreshTotalRank"),$("#btnRefreshOngoingRank"),$("#ucdListForm"),$("#publicWalletBalance"),$("#btnSaveUcdWallet"),$("#btnReward"),$("#searchUcdDateFrom"),$("#searchUcdDateTo"),$("#ucdKeyword"),$("#btnSearchUcd"),$("#btnResetSearchUcd"),$("#selUcdPageLength"),$("#modalSaveUcdWallet"),$("#saveWalletAmount"),$("#saveWalletDesc"),$("#btnSubmitSaveDoitUcd"),$("#modalReward"),$("#rewardTable"),$("#btnBackActionList"),$("#actionListForm"),$("#totalActionCount")),g=($("#selActionPageLength"),$("#selActionDateType"),$("#searchActionDateFrom"),$("#searchActionDateTo"),$("#selSearchTypeInAction"),$("#keywordInAction"),$("#selActionMissions"),$("input[name=chk-action-status]"),$("#btnSearchAction"),$("#btnResetSearchAction"),$("#btnPullAction"),$("#btnSendWarnings"),$("#btnSendWarning"),$("#actionDetailForm"),$("#actionNickname"),$("#actionCreated"),$("#actionLikeCount"),$("#actionCommentCount"),$("#actionContentWrap"),$("#actionDesc"),$("#warningReason"),$("#actionCommentWrap"),$("#createCommentWrap"),$("#commentAction"),$("#btnSubmitCommentAction"),$("#selReason"),$("#btnSubmitSendWarning"),$("#btnCreateTalk"),$("#modalCreateTalk"),$("#talk"),$("input[name=radio-attach-type]"),$("#talkAttachmentWrap"),$("input[name=chk-notice-talk]"),$("input[name=chk-special-notice-talk]"),$("#btnSubmitTalk"),$("#talkListForm"),$("#talkDetailForm"),$("#talkUpdateForm"),$("#searchTalkDateFrom"),$("#searchTalkDateTo"),$("#selTalkDateType"),$("#selTalkPageLength"),$("#btnSearchTalk"),$("input[name=chk-notice-type]"),$("#btnResetSearchTalk"),$("#talkTable"),$("#btnBackToTalkList"),$("#btnBackToTalkDetail"),$("#btnBlindTalk"),$("#btnDisplayTalk"),$("#btnDeleteTalk"),$("#btnUpdateTalk"),$("#infoTalkNickname"),$("#infoTalkIsBlind"),$("#infoTalkCreated"),$("#infoTalkLikeCount"),$("#infoTalkCommentCount"),$("#infoTalkContent"),$("#infoTalkAttachWrap"),$("#talkCommentWrap"),$("#createTalkCommentWrap"),$("#commentTalk"),$("#btnSubmitCommentTalk"),$("#updateTalk"),$("input[name=radio-update-attach-type]"),$("#updateTalkAttachWrap"),$("input[name=chk-update-notice-talk]"),$("input[name=chk-update-special-notice-talk]"),$("#btnSubmitUpdateTalk"),$("#modalAttach"),$("#modalAttachContentWrap"),$("#baseDateWrap"),$("#btnSearchNickname"),$("#btnSearchTarget"),$("#modalSearchMember"),$("#targetTable"),$("#searchTable"),$("#addedTable"),$("#selWeekly"),$("#dateRange"),$("#doitTable"),$("#ucdTable"),$("#selPageLengthDoit"),$("#selPageLengthUcd"),$("#bizNo"),$("#bizWeb"),$("#description")),b=($("#btnSupportDoit"),$("#btnSupportLeader"),$("#targetUrl"),$("#targetPageType"),$("#targetUuid"),$("#historyTable"),$("#previewTitle"),$("#previewTable"),$("#curationTitle"),$("#noticeTitle"),$("#contentImageWrap"),$("#isTop"),$("#selFaqType"),$("#faqType"),$("#faqTitle"),$("#selInquiryType"),$("#inquiryTitle"),$("#attachmentWrap"),$("#answerEl"),$("#memoEl"),$("#admin"),$("#answerDate"),$("#actionsWrap")),f=($("#modalWarning"),$("#modalReason"),$("#reasonTable"),$("input[name=radio-report]"),$("#isBlind"),$("#isDel"),$("#talkCreated"),$("#likeCount"),$("#commentCount"),$("#talkAttachWrap"),$("input[name=radio-reserve-type]"),$("#reserveTime"),$("input[name=radio-target-page-type]"),$("#targetPage"),$("input[name=radio-receive-type]"),$("input[name=radio-category]"),$("input[name=radio-icon-type]"),$("input[name=radio-target-member-type]"),$("#modalTargetPage"),$("#modalTargetMember"),$("#btnModalTargetMemberOpen"),$("#memberTable"),$("#popupTitle"),$("input[name=radio-view-option]"),$("#startTime"),$("#endTime"),$("#viewOption"),$("#selEventType"),$("#eventType"),$("#eventTitle"),$("#eventNotice"),$("#eventDate"),$("#thumbnailImage"),$("#eventContentThumbnail"),$("#eventThumbnail"),$("#price"),$("#selHour"),$("#selMinute"),$("#btnSendGeneral"),$("#btnSendGift"),$("#modalGift"),$("#modalGeneral"),$("#generalMemo"),$("#btnSubmitGift"),$("#btnSubmitGeneral"),$("#giftUuid"),$("#giftName"),$("#totalUcd"),$("#btnSubmitMemo"),$("input[name=radio-manual]"),$("#selectGiftName"),$("#goodsCode"),$("#ktImageUrl"),$("#discontinuedDate"),$("#giftType"),$("#modalDetailContent"),$("#modalCancel"),$("#selAuthType"),$("#selBiz"),$("#auth"),$("#name"),$("#isApproval"),$("#bizName"),$("#authWrap"),$("#authCode"),$("#authName"),$("#btnSubmitAuth"),$("#menuWrap"),$("#isStore")),h=$("#hiddenProfileId"),y=$("#profileId"),v=$("#userNickname"),k=$("#contact"),T=$("#leaveDate"),L=$("#loginDate"),w=$("#balance"),S=$("#isAuth"),D=$("#levelInfoWrap"),C=$("#levelHistoryWrap"),_=$("#ulLevelTab"),x=$("#userLevel"),M=$("#openedDoitCount"),U=$("#openedDoitAction"),W=$("#levelTable"),A=$("#btnLevelWrap"),P=$("#btnModalUcd"),I=$("#modalUcd"),B=$("#deviceInfoTableBody"),N=$("#openedDoitWrap"),R=$("#openedDoitTable"),F=$("#joinedDoitWrap"),O=$("#joinedDoitTable"),q=$("#categoryWrap"),E=$("#ucdInfoTable"),z=$("#ulDoitTab"),j=$("#modalActionDetail"),G=$("#modalActionContentWrap"),J=$("#modalActionDesc"),H=$("#modalActionWarningReason"),K=$("#modalActionExampleWrap"),X=$("#modalActionExampleDesc"),Q=($("#countLevel1"),$("#countLevel2"),$("#countLevel3"),$("#countLevel4"),$("#countLevel5"),$("#countLevel6"),$("#modalLevelUp")),V=$("#levelUpReason"),Y=($("#selType"),$("#qualification"),$("#difficulty"),$("input[name=radio-open]"),$("#badgeTitle"),$("#badgeType"),$("#isOpen"),$("#popupImage"),$("#popupThumbnail"),$("#lottieType"),$("#inputString"),$("#resultString"),$("#btnEncryption"),$("#btnDecryption"),$("#keywordWrap"),$("#promotionDate"),$("#createDate")),Z=($("#promotionStatus"),$("#dateFromSummary"),$("#dateToSummary"),$("#dateFromSummaryList"),$("#dateToSummaryList"),$("#btnRefreshMission"),$("#btnRefreshCategory"),{Authorization:btoa(JSON.stringify({authorization:"9c3a60d74726c4e1cc0732fd280c89dbf80a344e7c3dc2c4ad4fdf12b97e52c7",userid:t.val()}))});function tt(t,e,a){return new Promise(((n,i)=>{$.ajax({global:t,url:e,type:"POST",headers:Z,contentType:"text/plain",dataType:"json",data:a,success:function(t){n(t)},error:function(t,e,a){i(a)},complete:function(t,e){}})}))}function et(t){let e=t.msg,a=t.status;return[30034,30035,30308].indexOf(a)>-1&&(e=`선택한 이미지 사이즈는 ${t.data.width} x ${t.data.height} 입니다.\n                 ${t.msg}`),e}function at(t){return 0===function(t){return t.status}(t)}function nt(t){return t.msg}const it=`${api_server_url}/v3/`,ot={saveUserUcdFromXlsx:it+"ucd/set/charge/user/system/excel",saveUserUcdBySystem:it+"ucd/set/charge/user/system",saveUserUcdByBiz:it+"ucd/set/charge/user/company",saveDoitUcdFromXlsx:it+"ucd/set/charge/doit/system/excel",saveDoitUcdBySystem:it+"ucd/set/charge/doit/system",saveDoitUcdByBiz:it+"ucd/set/charge/doit/company",saveBizUcd:it+"ucd/set/charge/company/system",dashboardSummary:it+"main/dashboard",dashboardSummaryList:it+"main/dashboard/get/list",dashboardMoreLeader:it+"main/dashboard/get/leaderRanklist",dashboardMoreDoit:it+"main/dashboard/get/doitRanklist",getProfile:it+"admin/get",updatePassword:it+"admin/update/pwd",memberList:it+"profile/get/list",detailMember:it+"profile/get/detail/info",levelUp:it+"profile/set/levelUp",levelDown:it+"profile/set/levelDown",cancelPartner:it+"profile/set/releasePartner",levelInfo:it+"profile/get/level",levelHistory:it+"profile/get/level/history",deviceInfo:it+"profile/get/device/info",memberDoitList:it+"profile/get/doit",memberCategoryList:it+"profile/get/category",memberActionList:it+"profile/get/action",memberActionDetail:it+"profile/get/detail/action",countPerLevel:it+"level/get/count",memberLevelList:it+"level/get/list",unlinkMemberList:it+"profile/get/unlink",changedMemberList:it+"profile/get/changed",badgeList:it+"badge/get/list",createBadge:it+"badge/create",detailBadge:it+"badge/get/detail/info",deleteBadge:it+"badge/delete",updateBadge:it+"badge/update",categoryList:it+"category/list",createCategory:it+"category/create",detailCategory:it+"category/detail",reorderCategory:it+"category/update/sequence",deleteCategory:it+"category/delete",updateCategory:it+"category/update",subCategoryList:it+"subcategory/list",createSubCategory:it+"subcategory/create",updateSubCategoryDoitImg:it+"subcategory/set/doit/image",deleteSubCategory:it+"subcategory/delete",reorderSubCategory:it+"subcategory/update/sequence",editSubCategory:it+"subcategory/update",keywordList:it+"keyword/get/list",createKeyword:it+"keyword/create",updateKeyword:it+"keyword/update",doitSponsorList:it+"doit/get/company",doitList:it+"doit/list",doitSetRecommend:it+"doit/set/recommend",createDoit:it+"doit/create",createDoitCategoryList:it+"category/exposure/list",detailDoit:it+"doit/detail",updateDoit:it+"doit/update",deleteDoit:it+"doit/delete",openDoit:it+"doit/set/open",stopDoit:it+"doit/set/stop",getDoitUcd:it+"ucd/get/doit",getUcdDoitList:it+"ucd/get/doit/list",getDoitRewardList:it+"ucd/get/reward/doit",missionList:it+"mission/get/list",createMission:it+"mission/create",detailMission:it+"mission/get/detail/info",updateMission:it+"mission/update",deleteMission:it+"mission/delete",joinMemberList:it+"member/get/list",infoJoinMember:it+"member/get/profile",rewardMemberList:it+"ucd/get/reward/list",createReward:it+"ucd/set/reward/profile/condition",countMember:it+"member/get/count",blockMember:it+"member/set/retire/ban",banMember:it+"member/set/retire",applyMemberList:it+"member/get/applylist",approvalMember:it+"member/get/applyConfirm",rejectMember:it+"member/get/applyReject",blockMemberList:it+"member/get/retire/ban/list",cancelBlockMember:it+"member/set/retire/ban/cancel",rankMember:it+"doit/get/member/rank",actionList:it+"action/get/list",detailAction:it+"action/get/detail/info",sendWarning:it+"action/set/yellow",cancelWarning:it+"action/set/yellowCancel",actionCommentList:it+"action/get/commentList",createActionComment:it+"action/set/insertComment",deleteActionComment:it+"action/set/deleteComment",actionReplyList:it+"action/get/comment/child/list",talkList:it+"board/get/list",createTalk:it+"board/create",detailTalk:it+"board/get/detail/info",updateTalk:it+"board/update",deleteTalk:it+"board/delete",talkCommentList:it+"board/get/commentList",createTalkComment:it+"board/set/insertComment",deleteTalkComment:it+"board/set/deleteComment",talkReplyList:it+"board/get/comment/child/list",pickList:it+"recommend/list",previewList:it+"recommend/get/doit",searchDoitList:it+"recommend/get/doit/list",reorderPick:it+"recommend/set",createPick:it+"recommend/create",updatePick:it+"recommend/update",detailPick:it+"recommend/detail",getWeek:it+"doit/rank/get/week",rankList:it+"doit/rank/get/list",createRank:it+"doit/rank/set",targetRankList:it+"doit/rank/popup/get",bizList:it+"biz/get/list",createBiz:it+"biz/create",detailBiz:it+"biz/get/detail/info",bizDoitList:it+"biz/get/detail/doit",bizUcdList:it+"ucd/list/get/company",updateBiz:it+"biz/update",getBizUcd:it+"ucd/get/company",noticeList:it+"notice/get/list",createNotice:it+"notice/create",detailNotice:it+"notice/get/detail/info",updateNotice:it+"notice/update",deleteNotice:it+"notice/delete",faqType:it+"faq/get/type",faqList:it+"faq/get/list",createFaq:it+"faq/create",detailFaq:it+"faq/get/detail/info",updateFaq:it+"faq/update",deleteFaq:it+"faq/delete",reorderFaq:it+"faq/set/orders",inquiryList:it+"qna/get/list",updateInquiry:it+"qna/set/insertComment",detailInquiry:it+"qna/get/detail/info",deleteInquiry:it+"qna/delete",xlsxOutInquiry:it+"excel/export/qna",reportActionList:it+"report/get/action/list",actionReportReasonList:it+"report/get/action/descriptionList",reportTalkList:it+"report/get/board/list",talkReportReasonList:it+"report/get/board/descriptionList",blindTalk:it+"report/set/blind",bannerList:it+"banner/get/list",createBanner:it+"banner/create",detailBanner:it+"banner/get/detail/info",updateBanner:it+"banner/update",reorderBanner:it+"banner/set/orders",targetEventList:it+"banner/get/event/list",targetDoitList:it+"banner/get/doit/list",targetNoticeList:it+"banner/get/notice/list",storyList:it+"story/get/list",createStory:it+"story/create",detailStory:it+"story/get/detail/info",updateStory:it+"story/update",reorderStory:it+"story/set/orders",eventList:it+"event/get/list",createEvent:it+"event/create",detailEvent:it+"event/get/detail/info",deleteEvent:it+"event/delete",updateEvent:it+"event/update",customEvent:it+"event/popup/get/list",customEventProfile:it+"event/popup/get/profile",pushList:it+"push/list",cancelPush:it+"push/set/cancel",createPush:it+"push/create",pushTargetNotice:it+"push/get/notice",pushTargetEvent:it+"push/get/event",pushTargetDoit:it+"push/get/doit",pushTargetMember:it+"push/get/profile",pushTargetMemberFromXlsx:it+"excel/import/notification/profile",popupList:it+"popup/get/list",createPopup:it+"popup/create",detailPopup:it+"popup/get/detail/info",updatePopup:it+"popup/update",deletePopup:it+"popup/delete",errorList:it+"error/list",updateError:it+"error/update",createEncryption:it+"operate/set/encryption",createDecryption:it+"operate/set/decryption",versionList:it+"operate/get/version/list",createVersion:it+"operate/version/create",deleteVersion:it+"operate/version/delete",logList:it+"log/get/list",getMemberForSaveUcd:it+"ucd/get/user/list",getMemberFromXlsx:it+"excel/import/profile",getDoitFromXlsx:it+"excel/import/doit",ucdChargeList:it+"ucd/list/get/charge",systemWalletType:it+"ucd/get/system/type",systemWalletList:it+"ucd/list/get/system",doitWalletList:it+"ucd/list/get/doit",memberWalletList:it+"ucd/list/get/user",pendingWalletList:it+"ucd/list/get/transfer",giftList:it+"gift/get/list",reorderGiftList:it+"gift/get/orderList",reorderGift:it+"gift/set/orders",createGift:it+"gift/create",ktGoodsList:it+"gift/get/kt/goods",detailGift:it+"gift/get/detail/info",updateGift:it+"gift/update",applyGiftList:it+"exchange/get/list",sendGifticon:it+"exchange/set/confirm",sendGeneralGift:it+"exchange/set/send",rejectGift:it+"exchange/set/reject",resendGift:it+"exchange/set/resend",getGiftBalance:it+"exchange/get/money",sendGiftList:it+"exchange/get/sendList",sendGiftStatusList:it+"exchange/get/payment",updateGiftSendMemo:it+"exchange/set/insertMemo",adminList:it+"admin/list",detailAdmin:it+"admin/detail",updateAdmin:it+"admin/update",deleteAdmin:it+"admin/delete",authBizList:it+"auth/get/biz/list",approvalAdmin:it+"admin/approval",authList:it+"auth/list",getMenuWithAuth:it+"auth/get/menu",setMenuWithAuth:it+"auth/set/menu",createAuth:it+"auth/create",deleteAuth:it+"auth/delete",promotionList:it+"promotion/get/list",createPromotion:it+"promotion/create",detailPromotion:it+"promotion/get/detail",updatePromotion:it+"promotion/update",closePromotion:it+"promotion/set/end",promotionDoitList:it+"promotion/get/doit/list",promotionProceedList:it+"promotion/get/proceed/list",setDoitPromotion:it+"promotion/set/doit",cancelDoitPromotion:it+"promotion/set/release"},rt="-",st="image",lt="video",ct="audio",dt='<i class="fas fa-angle-double-left"></i>',ut='<i class="fas fa-angle-double-right"></i>',pt="/assets/v2/img/voice.jpg",$t=Swal.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer),t.addEventListener("mouseleave",Swal.resumeTimer)}});function mt(t){$t.fire({icon:"info",title:t})}function gt(t,e){Swal.fire({toast:!0,position:"center",icon:at(t)?"success":"error",title:et(t),showConfirmButton:!1,timer:1500}).then((a=>{a.isDismissed&&at(t)&&e()}))}function bt(t){Swal.fire({icon:"error",html:t})}function ft(t,e){Swal.fire({text:t,showCancelButton:!0,confirmButtonText:"확인",cancelButtonText:"취소"}).then((t=>{t.value&&e()}))}const ht="목록이 없습니다.",yt="/v2/member";function vt(){c.fadeOut(),d.fadeOut(),$("body").css("overflow-y","auto")}function kt(){$("body").css("overflow-y","hidden")}function Tt(){$("img").on("error",(function(){$(this).attr("src","/assets/v2/img/no-image.jpg")}))}function Lt(t){$(t).closest(".dataTables_wrapper").find(".dataTables_paginate").toggle(t.api().page.info().pages>0)}function wt(t){return null==t||t.hasOwnProperty("length")&&0===t.length||t.constructor===Object&&0===Object.keys(t).length||t.constructor===String&&""===t.trim()}function St(t){return wt(t)||isNaN(t)?0:t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Dt(t){return/^[0-9]*$/g.test(t)}const Ct=wt(h.val())?sessionStorage.getItem("pid"):h.val();function _t(){const t={profile_uuid:Ct};tt(!0,ot.detailMember,JSON.stringify(t)).then((async function(t,e,a){at(t)?function(t){const{profile_uuid:e,nickname:a,phone:n,email:i,joined:o,accessed:r,deactived:s,is_auth:l,ucd:c}=t.data;y.text(e),k.text(n),v.text(a),u.text(i),Y.text(o),T.text(wt(s)?rt:s),L.text(wt(r)?rt:r),w.text(St(c)),S.text(l)}(t):mt(nt(t))})).catch((t=>bt("기본정보을(를) 불러올 수 없습니다.")))}function xt(){const t={profile_uuid:Ct};tt(!1,ot.levelInfo,JSON.stringify(t)).then((async function(t,e,a){at(t)?function(t){const{level_name:e,level:a,total_doit_action_count:n,create_doit_count:i,action_count:o}=t.data;(function(t){let e="";switch(t){case"1":case"2":case"3":e='<button id="btnPartner" type="button" class="btn-sm btn-outline-secondary"><i class="fas fa-star"></i> Lv.파트너 설정</button>';break;case"4":e='<button id="btnPartner" type="button" class="btn-sm btn-outline-secondary"><i class="fas fa-star"></i> Lv.파트너 설정</button>\n\t\t\t\t\t\t\t<button id="btnLevelUp" type="button" class="btn-sm btn-outline-warning"><i class="fas fa-level-up-alt"></i> Lv.레전드로 승급</button>';break;case"5":e='<button id="btnPartner" type="button" class="btn-sm btn-outline-secondary"><i class="fas fa-star"></i> Lv.파트너 설정</button>\n\t\t\t\t\t\t\t<button id="btnLevelDown" type="button" class="btn-sm btn-outline-orange"><i class="fas fa-level-down-alt"></i> Lv.마스터로 강등</button>';break;case"6":e='<button id="btnCancel" type="button" class="btn-sm btn-outline-orange"><i class="fas fa-level-down-alt"></i> Lv.파트너 해제</button>'}A.html(e),$("#btnLevelWrap button").on("click",(function(){Ot(this)}))})(a),x.text(e),m.text(St(o)),M.text(St(i)),U.text(St(n))}(t):mt(nt(t))})).catch((t=>bt("레벨정보을(를) 불러올 수 없습니다.")))}function Mt(){R.DataTable({ajax:{url:ot.memberDoitList,type:"POST",headers:Z,global:!1,dataFilter:function(t){let e=JSON.parse(t);return at(e)?(e.recordsTotal=e.count,e.recordsFiltered=e.count):(e.data=[],mt(nt(e))),JSON.stringify(e)},data:function(t){const e={doit_type:"leader",profile_uuid:Ct,limit:t.length,page:t.start/t.length+1};return JSON.stringify(e)},error:function(t,e){bt("두잇개설 목록을(를) 불러올 수 없습니다.")}},columns:[{title:"두잇명",data:"doit_title",width:"35%"},{title:"참여 인원",data:"member_cnt",width:"10%",render:function(t){return St(t)}},{title:"오픈일",data:"opened",width:"15%",render:function(t,e,a,n){return t.substring(0,10)}},{title:"상태",data:"doit_status",width:"10%",render:function(t){switch(t){case"create":return"생성";case"open":return"진행중";case"stop":return"운영정지";case"delete":return"삭제"}}}],serverSide:!0,paging:!0,pageLength:10,select:!1,destroy:!0,initComplete:function(){},fnRowCallback:function(t,e){},drawCallback:function(t){Lt(this)}})}f.val()&&sessionStorage.setItem("pid",Ct.toString()),$((()=>{$.extend(!0,$.fn.dataTable.defaults,{ordering:!1,order:[],info:!1,processing:!1,lengthChange:!1,autoWidth:!1,searching:!1,fixedHeader:!1,language:{emptyTable:ht,zeroRecords:ht,processing:"검색 중..",paginate:{previous:dt,next:ut}}}),$("[data-moveto]").on("click",(function(t){const e=$(this).data("moveto"),a=$("#"+e).offset().top;$("html, body").stop().animate({scrollTop:a-180},300),t.preventDefault(),t.stopPropagation()})),_t(),xt(),function(){const t={profile_uuid:Ct};tt(!0,ot.deviceInfo,JSON.stringify(t)).then((async function(t,e,a){at(t)?function(t){if(!wt(t.data)&&t.data.length>0){let e="";t.data.map((t=>{const{device:a,client_id:n,device_token:i,created:o}=t;e+=`<tr>\n\t\t\t\t\t\t<td>${a}</td>\n\t\t\t\t\t\t<td>${n}</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<div><input type="text" class="input-copy" style="width: 150px" value="${i}" readonly=""><i class="fas fa-copy"></i></div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>${o}</td>\n\t\t\t\t\t</tr>`})),B.html(e),$(".fas.fa-copy").on("click",(function(){$(this).siblings("input.input-copy").trigger("select"),document.execCommand("copy"),mt("클립보드에 복사 됨.")}))}}(t):mt(nt(t))})).catch((t=>bt("기기정보을(를) 불러올 수 없습니다.")))}(),function(){const t={profile_uuid:Ct};tt(!0,ot.memberCategoryList,JSON.stringify(t)).then((async function(t,e,a){at(t)?function(t){if(!wt(t.data)&&t.data.length>0){let e="";t.data.map((t=>{const{category_title:a,subcategory_info:n}=t;let i="";!wt(n)&&n.length>0&&n.map((t=>{i+=`<li>#<span>${t.subcategory_title}</span></li>`})),e+=`<tr>\n\t\t\t\t\t\t<th>${a}</th>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<ul class="tag-list clearfix">\n\t\t\t\t\t\t\t\t${i}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>`})),q.html(e)}else q.parent().hide(),q.parent().after('<div class="card"><p class="message">관심 카테고리가 없습니다.</p></div>')}(t):mt(nt(t))})).catch((t=>bt("관심카테고리을(를) 불러올 수 없습니다.")))}(),Mt(),Bt(),Nt(),o.on("propertychange change keyup paste input",(function(){!function(t){let e=$(t).val().split(""),a=e.length,n="";for(let t=0;t<a;t++)0!=e[0]&&Dt(e[0])||(e[0]=""),Dt(e[t])&&(n+=e[t]);$(t).val(n)}(this)})),s.on("propertychange change keyup paste input",(function(){!function(t){let e=$(t).val().length,a=$(t).prop("maxLength");e>a&&a>0&&($(t).val($(t).val().slice(0,a)),e=a),$(t).next().find(".count-input").text(e)}(this)})),P.on("click",(function(){I.fadeIn(),d.fadeIn(),kt(),o.trigger("focus"),o.val(""),g.val(""),r.val("")})),l.on("click",(function(){vt()})),d.on("click",(function(){vt()})),n.on("click",(function(){history.back()})),a.on("click",(function(){location.href=yt})),z.on("click",(function(t){!function(t){const e=$(t.target),a=$(e).data("target");switch(a){case"#openedDoitWrap":Mt();break;case"#joinedDoitWrap":O.DataTable({ajax:{url:ot.memberDoitList,type:"POST",headers:Z,global:!1,dataFilter:function(t){let e=JSON.parse(t);return at(e)?(e.recordsTotal=e.count,e.recordsFiltered=e.count):(e.data=[],mt(nt(e))),JSON.stringify(e)},data:function(t){const e={doit_type:"member",profile_uuid:Ct,limit:t.length,page:t.start/t.length+1};return JSON.stringify(e)},error:function(t,e){bt("두잇참여 목록 을(를) 불러올 수 없습니다.")}},columns:[{title:"두잇명",data:"doit_title",width:"35%"},{title:"상태",data:"doit_status",width:"10%",render:function(t){switch(t){case"create":return"생성";case"open":return"진행중";case"stop":return"운영정지";case"delete":return"삭제"}}}],serverSide:!0,paging:!0,pageLength:10,select:!1,destroy:!0,initComplete:function(){},fnRowCallback:function(t,e){},drawCallback:function(t){Lt(this)}})}e.siblings().removeClass("active"),e.addClass("active"),N.hide(),F.hide(),$(a).show()}(t)})),_.on("click",(function(t){!function(t){const e=$(t.target),a=$(e).data("target");switch(a){case"#levelInfoWrap":xt();break;case"#levelHistoryWrap":!function(){const t={profile_uuid:Ct};tt(!1,ot.levelHistory,JSON.stringify(t)).then((async function(t,e,a){at(t)?function(t){W.DataTable({data:t.data,columns:[{title:"레벨명",data:"level_name",width:"20%"},{title:"담당자",data:"reason",width:"20%",render:function(t){return wt(t)?rt:t.split("||")[0]}},{title:"사유",data:"reason",width:"40%",render:function(t){return wt(t)?rt:t.split("||")[1]}},{title:"설정일시",data:"created",width:"20%"}],serverSide:!1,paging:!0,pageLength:10,select:!1,destroy:!0,initComplete:function(){},fnRowCallback:function(t,e){},drawCallback:function(t){}})}(t):mt(nt(t))})).catch((t=>bt("레벨 변경 내역을 을(를) 불러올 수 없습니다.")))}()}e.siblings().removeClass("active"),e.addClass("active"),D.hide(),C.hide(),$(a).show()}(t)})),p.on("click",(function(){(wt(o.val())?(mt("UCD는 필수항목입니다."),o.trigger("focus"),0):Number(o.val())>1e6?(mt("최대 1백만 UCD까지 가능합니다."),o.trigger("focus"),0):!wt(g.val())||(mt("내용은 필수항목입니다."),g.trigger("focus"),0))&&ft("등록하시겠습니까?",Rt)})),e.on("click",(function(){wt(V.val())?mt("사유는 필수항목입니다."):ft(Et(Pt),qt)}))}));let Ut,Wt,At,Pt,It=1;function Bt(){const t={limit:30,page:It,profile_uuid:Ct};tt(!0,ot.memberActionList,JSON.stringify(t)).then((async function(t,e,a){await function(t){at(t)?(function(t){let e='<div class="card"><p class="message">인증 정보가 없습니다.</p></div>';!wt(t.data)&&t.data.length>0&&(e="",t.data.map(((t,a)=>{const{action_uuid:n,like_count:i,comment_count:o,report_count:r,doit_title:s,nickname:l,action_date:c,is_yellow:d,contents_type:u,contents_url:p,thumbnail_url:$}=t;let m;u===st?m=p:u===ct?m=pt:u===lt&&(m=$),0!==a&&a%6!=0||(e+='<div class="row">'),e+=`<div class="col-2 auth-item">\n\t\t\t\t\t\t<div class="card">\n\t\t\t\t\t\t\t<div class="top clearfix">\n\t\t\t\t\t\t\t\t<div class="right-wrap">\n\t\t\t\t\t\t\t\t\t<span><i class="fas fa-heart"></i> ${i}</span>\n\t\t\t\t\t\t\t\t\t<span><i class="fas fa-comment"></i> ${o}</span>\n\t\t\t\t\t\t\t\t\t<span><i class="fas fa-exclamation-triangle"></i> ${r}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="img-wrap action-image-wrap" data-uuid="${n}">\n\t\t\t\t\t\t\t\t<img src="${m}" alt="">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p class="title">${s}</p>\n\t\t\t\t\t\t\t<span class="nick-name">${l}</span>\n\t\t\t\t\t\t\t<span class="date">${c}</span>\n\t\t\t\t\t\t\t${"Y"===d?'<strong class="red-card"><img src="/assets/v2/img/red-card.png" alt=""></strong>':""}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`,a>0&&(a+1)%6==0&&(e+="</div>")}))),b.html(e),Tt(),$(".action-image-wrap").on("click",(function(){Ut=$(this).data("uuid"),j.fadeIn(),d.fadeIn(),kt(),function(){const t={action_uuid:Ut};tt(!0,ot.memberActionDetail,JSON.stringify(t)).then((async function(t,e,a){at(t)?function(t){const{action_contents_type:e,action_contents_url:a,action_description:n,example_contents_type:i,example_contents_url:o,example_description:r,is_yellow:s,yellow_reason:l}=t.data;let c="";switch(e){case st:c=`<div class="img-wrap"><img src="${a}" alt=""></div>`;break;case lt:c=`<div class="video-wrap"><video controls><source src="${a}"/></video></div>`;break;case ct:c=`<div class="audio-wrap"><img src="/assets/v2/img/voice.jpg" alt=""><audio controls><source src="${a}"/></audio></div>`}let d="";switch(i){case st:d=`<div class="img-wrap"><img src="${o}" alt=""></div>`;break;case lt:d=`<div class="video-wrap"><video controls><source src="${o}"/></video></div>`;break;case ct:d=`<div class="audio-wrap"><img src="/assets/v2/img/voice.jpg" alt=""><audio controls><source src="${o}"/></audio></div>`}G.html(c),J.text(n),H.text("Y"===s?l:rt),K.html(d),X.text(r),Tt()}(t):mt(nt(t))})).catch((t=>bt("인증 정보을(를) 불러올 수 없습니다.")))}()}))}(t),function(t){const e=t.count,a=Math.ceil(e/30);i.html(function(t,e){let a,n,i,o="";if(o+=1===t?`<a class="paginate_button btn_paginate previous disabled" id="dataTable_previous">${dt}</a><span>`:`<a class="paginate_button btn_paginate previous" data-page="${t-1}" id="dataTable_previous">${dt}</a><span>`,e<=7)for(a=1;a<=e;a++)n=e>1&&t===a?"current":"",o+=`<a class="paginate_button btn_paginate ${n}" data-page="${a}">${a}</a>`;else if(t<5)for(a=1;a<=7;a++)n=e>1&&t===a?"current":"",i=7===a?e:a,o+=6===a?'<span class="ellipsis">…</span>':`<a class="paginate_button btn_paginate ${n}" data-page="${i}">${i}</a>`;else if(t>=5&&t<=e-4)for(a=1;a<=e;a++)1===a&&(o+=`<a class="paginate_button btn_paginate" data-page="${a}">${a}</a>\n\t\t\t\t\t\t\t<span class="ellipsis">…</span>`),t===a&&(o+=`<a class="paginate_button btn_paginate" data-page="${a-1}">${a-1}</a>\n\t\t\t\t\t\t\t<a class="paginate_button btn_paginate current" data-page="${a}">${a}</a>\n\t\t\t\t\t\t\t<a class="paginate_button btn_paginate" data-page="${a+1}">${a+1}</a>`),e===a&&(o+=`<span class="ellipsis">…</span>\n\t\t\t\t\t\t\t<a class="paginate_button btn_paginate" data-page="${e}">${e}</a>`);else if(t>e-4)for(a=1;a<=7;a++)n=t===e-(7-a)?"current":"",i=a>=3?e-(7-a):a,o+=2===a?'<span class="ellipsis">…</span>':`<a class="paginate_button btn_paginate ${n}" data-page="${i}">${i}</a>`;return o+=e===t||0===Number(e)?`</span><a class="paginate_button btn_paginate next disabled" id="dataTable_next">${ut}</a>`:`</span><a class="paginate_button btn_paginate next" data-page="${t+1}" id="dataTable_next">${ut}</a>`,o}(It,a)),$(".btn_paginate").not(".disabled").on("click",(function(){var t;t=this,$(t).siblings().removeClass("current"),$(t).addClass("current"),It=$(t).data("page"),Bt()}))}(t)):mt(t.msg)}(t)})).catch((t=>bt("인증 정보을(를) 불러올 수 없습니다.")))}function Nt(){E.DataTable({ajax:{url:ot.memberWalletList,type:"POST",headers:Z,dataFilter:function(t){let e=JSON.parse(t);return at(e)?(e.recordsTotal=e.data.count,e.recordsFiltered=e.data.count,e.data=e.data.list):(e.data=[],mt(nt(t))),JSON.stringify(e)},data:function(t){const e={from_date:"",to_date:"",search_type:"profile_uuid",keyword:Ct,page:t.start/t.length+1,limit:t.length};return JSON.stringify(e)},error:function(t,e){bt("UCD목록을(를) 불러올 수 없습니다.")}},columns:[{title:"구분",data:"division",width:"10%"},{title:"제목",data:"title",width:"15%"},{title:"내용",data:"description",width:"40%",render:function(t,e,a,n){return wt(t)?rt:t}},{title:"UCD",data:"value",width:"10%",render:function(t,e,a,n){return St(t)}},{title:"일시",data:"created",width:"15%"}],serverSide:!0,paging:!0,pageLength:30,select:!1,destroy:!0,initComplete:function(){},fnRowCallback:function(t,e){var a;a=e.value,-1===Math.sign(a)&&$(t).addClass("minus-pay")},drawCallback:function(t){Lt(this)}})}function Rt(){const t={profile_uuid:[Ct],value:o.val().trim(),description:g.val().trim()};tt(!0,ot.saveUserUcdBySystem,JSON.stringify(t)).then((async function(t,e,a){await gt(t,Ft)})).catch((t=>bt("등록 처리 중, 오류가 발생했습니다.")))}function Ft(){vt(),_t(),Nt()}function Ot(t){Pt=t.id,Wt=function(t){switch(t){case"btnLevelUp":return ot.levelUp;case"btnLevelDown":return ot.levelDown;case"btnCancel":return ot.cancelPartner;default:return ot.levelUp}}(Pt),At=function(t){switch(t){case"btnPartner":return 6;case"btnLevelUp":return 5;case"btnLevelDown":return 4;case"btnCancel":return""}}(Pt),"btnPartner"===Pt||"btnLevelUp"===Pt?(Q.fadeIn(),d.fadeIn(),V.val(""),V.trigger("focus")):ft(Et(Pt),qt)}function qt(){const t={profile_uuid:Ct};wt(At)||(t.level=At),Number(At)>=5&&(t.reason=V.val().trim()),tt(!0,Wt,JSON.stringify(t)).then((async function(t,e,a){vt(),await gt(t,xt)})).catch((t=>bt("레벨 처리 중, 오류가 발생했습니다.")))}function Et(t){switch(t){case"btnLevelUp":return"확인을 누르면 레전드로 승급합니다.";case"btnLevelDown":return"확인을 누르면 마스터로 강등합니다.";case"btnCancel":return"확인을 누르면 파트너 등급을 해제합니다.";default:return"확인을 누르면 파트너 등급으로 설정합니다."}}})();