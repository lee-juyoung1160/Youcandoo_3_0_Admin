<link type="text/css" rel="stylesheet" href="/assets/css/plugins/jsoneditor.min.css">
<link rel="stylesheet" href="/assets/css/log.css?version=<?php echo $this->config->item('version');?>">
<section class="log-list-page">
    <div class="inner">
        <div class="main-top clearfix">
            <h2 class="main-title list-main-title">Log 내역</h2>
        </div>

        <ol class="table-btn-wrap log-tab clearfix" id="olTab">
            <li class="active" data-target="#apache">Apache</li>
            <li data-target="#php">PHP</li>
        </ol>


        <article class="apache" id="apache">
            <div class="list-common">
                <div class="list-wrap clearfix">
                    <p class="list-common-title">날짜</p>
                    <div class="date-wrap">
                        <input type="text" class="datepicker date_from">
                        <span class="date-margin-text"> ~ </span>
                        <input type="text" class="datepicker date_to">
                    </div>
                    <ul class="day-btn clearfix">
                        <li class="btn_today">오늘</li>
                        <li class="btn_week">1주일</li>
                        <li class="btn_month">1개월</li>
                        <li class="btn_long">3개월</li>
                    </ul>
                </div>
                <div class="list-wrap search-wrap clearfix">
                    <p class="list-common-title">검색어</p>
                    <div class="select-box">
                        <label for="se1">uniqueid</label>
                        <select id="se1">
                            <option value="uniqued">uniqued</option>
                            <option value="requestURL">requestURL</option>
                            <option value="remote_ip">remote_ip</option>
                        </select>
                    </div>

                    <div class="search-wrap">
                        <div class="search-box">
                            <input id="keyword" type="search" placeholder="검색어를 입력해주세요.">
                            <i class="search-btn fas fa-search"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="doit-list-option">
                <ul class="clearfix">
                    <li>
                        <p class="list-common-title">상태</p>
                        <div class="radio-wrap">
                            <input type="radio" id="r20" name="radio-user-active" value="">
                            <label for="r20"><span></span>전체</label>

                            <input type="radio" id="r21" name="radio-user-active" value="Y">
                            <label for="r21"><span></span>정상</label>

                            <input type="radio" id="r22" name="radio-user-active" value="N">
                            <label for="r22"><span></span>실패</label>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="list-common-btn-wrap list-search-btn-wrap clearfix">
                <div class="btn-wrap">
                    <button class="search">검색</button>
                    <button class="reset" type="reset">초기화</button>
                </div>
            </div>
            <div class="table-wrap">
                <div class="top clearfix">
                    <div class="right-wrap clearfix">
                        <p>Total <strong class="data-num"></strong></p>
                        <div class="select-box">
                            <label for="se3"></label>
                            <select id="se3">
                            </select>
                        </div>
                    </div>

                </div>
                <table id="dataTable">
                    <colgroup>
                        <col style="width:10%;">
                        <col style="width:10%;">
                        <col style="width:10%;">
                        <col style="width:10%;">
                        <col style="width:10%;">
                        <col style="width:10%;">
                        <col style="width:10%;">
                    </colgroup>
                    <thead>
                    <tr>
                        <th>uniqueid</th>
                        <th>requestURL</th>
                        <th>method</th>
                        <th>Apache user_agent</th>
                        <th>status</th>
                        <th>process</th>
                        <th>time</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>000000000000</td>
                        <td>000000000000</td>
                        <td>000000000000</td>
                        <td>
                            <div>
                                <input type="text" class="input-copy" style="width: 150px" value="000000000000000000000" readonly="">
                                <i class="fas fa-copy" onclick="copyToClipboard(this);"></i>
                            </div>
                        </td>
                        <td>000000000000</td>
                        <td>000000000000</td>
                        <td>000000000000</td>
                    </tr>
                    </tbody>
                </table>
                <!--<ul class="table-pagination clearfix">
                    <li><i class="fas fa-angle-double-left"></i></li>
                    <li class="active">1</li>
                    <li>2</li>
                    <li>3</li>
                    <li><i class="fas fa-angle-double-right"></i></li>
                </ul>-->
            </div>
        </article>

        <article class="php clearfix" id="php" style="display: none;">
            <div class="list-common">
                <div class="list-wrap clearfix">
                    <p class="list-common-title">날짜</p>
                    <div class="date-wrap">
                        <input type="text" class="datepicker date_from">
                        <span class="date-margin-text"> ~ </span>
                        <input type="text" class="datepicker date_to">
                    </div>
                    <ul class="day-btn clearfix">
                        <li class="btn_today">오늘</li>
                        <li class="btn_week">1주일</li>
                        <li class="btn_month">1개월</li>
                        <li class="btn_long">3개월</li>
                    </ul>
                </div>
                <div class="list-wrap search-wrap clearfix">
                    <p class="list-common-title">검색어</p>
                    <div class="select-box">
                        <label for="date_type">uniqued</label>
                        <select id="date_type">
                            <option value="uniqued">uniqued</option>
                            <option value="Account_token">Account_token</option>
                            <option value="Request">Request</option>
                            <option value="Response">Response</option>
                        </select>
                    </div>
                    <div class="search-wrap">
                        <div class="search-box">
                            <input id="keyword" type="search" placeholder="검색어를 입력해주세요.">
                            <i class="search-btn fas fa-search"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="list-common-btn-wrap list-search-btn-wrap clearfix">
                <div class="btn-wrap">
                    <button class="search">검색</button>
                    <button class="reset" type="reset">초기화</button>
                </div>
            </div>
            <div class="table-wrap">

            <table id="dataTable">
                <colgroup>
                    <col style="width:20%;">
                    <col style="width:20%;">
                    <col style="width:20%;">
                    <col style="width:20%;">
                    <col style="width:20%;">
                </colgroup>
                <thead>
                    <tr>
                        <th>uniqueid</th>
                        <th>닉네임</th>
                        <th>profileID</th>
                        <th>Token</th>
                        <th>Time</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>000000000000</td>
                        <td><a href="#">베리베리</a></td>
                        <td>
                            <div>
                                <input type="text" class="input-copy" style="width: 100px" value="000000000000000000000" readonly="">
                                <i class="fas fa-copy" onclick="copyToClipboard(this);"></i>
                            </div>
                        </td>
                        <td>
                            <div>
                                <input type="text" class="input-copy" style="width: 100px" value="000000000000000000000" readonly="">
                                <i class="fas fa-copy" onclick="copyToClipboard(this);"></i>
                            </div>
                        </td>
                        <td>000000000000</td>
                    </tr>
                </tbody>
            </table>
            <!--<ul class="table-pagination clearfix">
                <li><i class="fas fa-angle-double-left"></i></li>
                <li class="active">1</li>
                <li>2</li>
                <li>3</li>
                <li><i class="fas fa-angle-double-right"></i></li>
            </ul>-->
        </div>
            <div class="jsoneditor-wrap">
                <ol class="php-tab clearfix">
                    <li class="active">Request</li>
                    <li>Response</li>
                </ol>
                <div id="jsoneditor"></div>
            </div>
        </article>
    </div>
</section>
<script src="/assets/js/plugins/tablesort.min.js"></script>
<script src="/assets/js/plugins/tablesort.number.min.js"></script>
<script src="/assets/js/plugins/jquery.dataTables.min.js"></script>
<script src="/assets/js/plugins/dataTables.select.min.js"></script>
<script src="/assets/js/plugins/jsoneditor.min.js"></script>
<script>
    // create the editor
    const container = document.getElementById("jsoneditor")
    const options = {}
    const editor = new JSONEditor(container, options)

    // set json
    const initialJson = {
        "Array": [1, 2, 3],
        "Boolean": true,
        "Null": null,
        "Number": 123,
        "Object": {"a": "b", "c": "d"},
        "String": "Hello World"
    }
    editor.set(initialJson)

    // get json
    const updatedJson = editor.get()

    $("#olTab").on('click', function (event) {
        toggleView(event);
    })

    function toggleView(event)
    {
        let target = event.target;
        let targetContent = $(target).data('target');

        $("#olTab").children().removeClass('active');
        $(target).addClass('active');

        $("article").hide();
        $(targetContent).show();
    }
</script>
